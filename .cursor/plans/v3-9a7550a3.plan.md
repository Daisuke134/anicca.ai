<!-- 9a7550a3-4fcd-4b3c-93c1-016958774a8a 6ed42689-2b07-46aa-b2fb-476a757d0af5 -->
# v3 ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°UIå®Œå…¨ä¿®æ­£ãƒ—ãƒ©ãƒ³

## ä¿®æ­£æ¦‚è¦

HTMLå®šç¾©æ›¸ãŠã‚ˆã³Figmaãƒ‡ã‚¶ã‚¤ãƒ³ã«å®Œå…¨æº–æ‹ ã•ã›ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ä¿®æ­£ã‚’å®Ÿæ–½ã™ã‚‹ã€‚

ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºï¼ˆè‹±èªãƒ»æ—¥æœ¬èªï¼‰ã€UIã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆãƒœã‚¿ãƒ³è§’ä¸¸ã€ãƒãƒƒãƒ—è§’ä¸¸ï¼‰ã‚’å«ã‚€å®Œå…¨ãªãƒ‘ãƒƒãƒã€‚

---

## 1. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼é †åºã®å¤‰æ›´

**ç¾åœ¨:** Welcome â†’ Ideals â†’ Struggles â†’ Value â†’ Account â†’ Microphone â†’ Notifications

**ä¿®æ­£å¾Œ:** Welcome â†’ Value â†’ Ideals â†’ Struggles â†’ Account â†’ Microphone â†’ Notifications

---

## å®Œå…¨ãƒ‘ãƒƒãƒä¸€è¦§

### ãƒ‘ãƒƒãƒ1: OnboardingStep.swift

[`aniccaios/aniccaios/Onboarding/OnboardingStep.swift`](aniccaios/aniccaios/Onboarding/OnboardingStep.swift)

```swift
// === å¤‰æ›´å‰ ===
enum OnboardingStep: Int {
    case welcome
    case ideals
    case struggles
    case value
    case account
    case microphone
    case notifications
}

// === å¤‰æ›´å¾Œ ===
enum OnboardingStep: Int {
    case welcome
    case value       // 2ç•ªç›®ã«ç§»å‹•
    case ideals      // 3ç•ªç›®
    case struggles   // 4ç•ªç›®
    case account
    case microphone
    case notifications
}
```

---

### ãƒ‘ãƒƒãƒ2: OnboardingFlowView.swift

[`aniccaios/aniccaios/Onboarding/OnboardingFlowView.swift`](aniccaios/aniccaios/Onboarding/OnboardingFlowView.swift)

```swift
// === å¤‰æ›´å‰ (switchæ–‡ bodyéƒ¨åˆ†) ===
switch step {
case .welcome:
    WelcomeStepView(next: advance)
case .ideals:
    IdealsStepView(next: advance)
case .struggles:
    StrugglesStepView(next: advance)
case .value:
    ValueStepView(next: advance)
case .microphone:
    MicrophonePermissionStepView(next: advance)
case .notifications:
    NotificationPermissionStepView(next: advance)
case .account:
    AuthenticationStepView(next: advance)
}

// === å¤‰æ›´å¾Œ ===
switch step {
case .welcome:
    WelcomeStepView(next: advance)
case .value:
    ValueStepView(next: advance)
case .ideals:
    IdealsStepView(next: advance)
case .struggles:
    StrugglesStepView(next: advance)
case .account:
    AuthenticationStepView(next: advance)
case .microphone:
    MicrophonePermissionStepView(next: advance)
case .notifications:
    NotificationPermissionStepView(next: advance)
}
```
```swift
// === å¤‰æ›´å‰ (advanceé–¢æ•°) ===
private func advance() {
    switch step {
    case .welcome:
        step = .ideals
    case .ideals:
        step = .struggles
    case .struggles:
        step = .value
    case .value:
        step = .account
    case .account:
        step = .microphone
    case .microphone:
        step = .notifications
    case .notifications:
        appState.markOnboardingComplete()
        return
    }
    appState.setOnboardingStep(step)
}

// === å¤‰æ›´å¾Œ ===
private func advance() {
    switch step {
    case .welcome:
        step = .value
    case .value:
        step = .ideals
    case .ideals:
        step = .struggles
    case .struggles:
        step = .account
    case .account:
        step = .microphone
    case .microphone:
        step = .notifications
    case .notifications:
        appState.markOnboardingComplete()
        return
    }
    appState.setOnboardingStep(step)
}
```

---

### ãƒ‘ãƒƒãƒ3: en.lproj/Localizable.strings (è‹±èª)

[`aniccaios/aniccaios/Resources/en.lproj/Localizable.strings`](aniccaios/aniccaios/Resources/en.lproj/Localizable.strings)

```
// === Welcome (å¤‰æ›´å‰) ===
"onboarding_welcome_title" = "Anicca";
"onboarding_welcome_subtitle" = "Anicca is a voice guide that helps you change your habits and soften your suffering.";
"onboarding_welcome_cta" = "Get Started";

// === Welcome (å¤‰æ›´å¾Œ) ===
"onboarding_welcome_title" = "Welcome to Anicca";
"onboarding_welcome_subtitle" = "Anicca is your voice coach guiding your actions and mind.";
"onboarding_welcome_cta" = "Get Started";
```
```
// === Value (å¤‰æ›´å‰) ===
"onboarding_value_title" = "What Anicca can do for you";
"onboarding_value_card1_title" = "Be there when you're suffering";
"onboarding_value_card1_body" = "Press one button when you feel stuck. Anicca speaks first and helps you untangle.";
"onboarding_value_card2_body" = "Anicca quietly watches your sleep, screen time, and movement, and nudges you at the right moments.";
"onboarding_value_card3_body" = "See how today's choices shape your future self.";

// === Value (å¤‰æ›´å¾Œ) ===
"onboarding_value_title" = "What Anicca Can Do";
"onboarding_value_card1_title" = "Support when you're struggling";
"onboarding_value_card1_body" = "Get personalized guidance and encouragement during difficult moments to help you stay on track.";
"onboarding_value_card2_title" = "Build better habits";
"onboarding_value_card2_body" = "Develop sustainable routines with actionable insights tailored to your unique goals and lifestyle.";
"onboarding_value_card3_title" = "Understand your patterns";
"onboarding_value_card3_body" = "Gain clarity on your behaviors and thought patterns to make meaningful, lasting changes.";
```
```
// === Ideals (å¤‰æ›´å‰) ===
"onboarding_ideals_title" = "Who do you want to become?";
"onboarding_ideals_subtitle" = "Choose as many as you like.";

// === Ideals (å¤‰æ›´å¾Œ) ===
"onboarding_ideals_title" = "Who do you want to become?";
"onboarding_ideals_subtitle" = "Choose as many as you like. These describe the kind of person you want to become.";
```
```
// === Struggles (å¤‰æ›´å‰) ===
"onboarding_struggles_title" = "What are you struggling with right now?";
"onboarding_struggles_subtitle" = "Select everything that applies.";

// === Struggles (å¤‰æ›´å¾Œ) ===
"onboarding_struggles_title" = "What are you struggling with now?";
"onboarding_struggles_subtitle" = "Select all that apply.";
```

---

### ãƒ‘ãƒƒãƒ4: ja.lproj/Localizable.strings (æ—¥æœ¬èª)

[`aniccaios/aniccaios/Resources/ja.lproj/Localizable.strings`](aniccaios/aniccaios/Resources/ja.lproj/Localizable.strings)

```
// === Welcome (å¤‰æ›´å‰) ===
"onboarding_welcome_title" = "Anicca";
"onboarding_welcome_subtitle" = "éŸ³å£°ã‚¬ã‚¤ãƒ‰ã¨ã—ã¦ã€ç¿’æ…£ã‚’å¤‰ãˆã€è‹¦ã—ã¿ã‚’ã‚„ã‚ã‚‰ã’ã‚‹ãŠæ‰‹ä¼ã„ã‚’ã—ã¾ã™ã€‚";
"onboarding_welcome_cta" = "ã¯ã˜ã‚ã‚‹";

// === Welcome (å¤‰æ›´å¾Œ) ===
"onboarding_welcome_title" = "Aniccaã¸ã‚ˆã†ã“ã";
"onboarding_welcome_subtitle" = "è¡Œå‹•ã¨å¿ƒã‚’å°ããƒœã‚¤ã‚¹ã‚³ãƒ¼ãƒã§ã™ã€‚";
"onboarding_welcome_cta" = "ã¯ã˜ã‚ã‚‹";
```
```
// === Value (å¤‰æ›´å‰) ===
"onboarding_value_title" = "AniccaãŒã§ãã‚‹ã“ã¨";
"onboarding_value_card1_title" = "ã¤ã‚‰ã„ã¨ãã«å¯„ã‚Šæ·»ã†";
"onboarding_value_card1_body" = "è¡Œãè©°ã¾ã£ãŸã¨ãã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã ã‘ã€‚AniccaãŒå…ˆã«è©±ã—ã€ã»ã©ã„ã¦ã„ãã®ã‚’åŠ©ã‘ã¾ã™ã€‚";
"onboarding_value_card2_body" = "ç¡çœ ãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚¿ã‚¤ãƒ ãƒ»å‹•ãã‚’é™ã‹ã«è¦‹å®ˆã‚Šã€é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãã£ã¨ä¿ƒã—ã¾ã™ã€‚";
"onboarding_value_card3_body" = "ä»Šæ—¥ã®é¸æŠãŒæœªæ¥ã®è‡ªåˆ†ã«ã©ã†ã¤ãªãŒã‚‹ã‹ã‚’è¦‹ãˆã‚‹åŒ–ã—ã¾ã™ã€‚";

// === Value (å¤‰æ›´å¾Œ) ===
"onboarding_value_title" = "AniccaãŒã§ãã‚‹ã“ã¨";
"onboarding_value_card1_title" = "ã¤ã‚‰ã„ã¨ãã«å¯„ã‚Šæ·»ã†";
"onboarding_value_card1_body" = "å›°é›£ãªç¬é–“ã«å¯„ã‚Šæ·»ã„ã€è»Œé“ã«ä¹—ã‚Šç¶šã‘ã‚‹ãŸã‚ã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãªåŠ©è¨€ã¨åŠ±ã¾ã—ã‚’æä¾›ã—ã¾ã™ã€‚";
"onboarding_value_card2_title" = "ã‚ˆã‚Šè‰¯ã„ç¿’æ…£ã‚’ç¯‰ã";
"onboarding_value_card2_body" = "ã‚ãªãŸã®ç›®æ¨™ã¨ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã«åˆã‚ã›ãŸå®Ÿè·µçš„ãªã‚¤ãƒ³ã‚µã‚¤ãƒˆã§ã€æŒç¶šå¯èƒ½ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚";
"onboarding_value_card3_title" = "è‡ªåˆ†ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£ã™ã‚‹";
"onboarding_value_card3_body" = "è‡ªåˆ†ã®è¡Œå‹•ã‚„æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ˜ç¢ºã«ã—ã€æ„å‘³ã®ã‚ã‚‹æŒç¶šçš„ãªå¤‰åŒ–ã‚’èµ·ã“ã—ã¾ã™ã€‚";
```
```
// === Ideals (å¤‰æ›´å‰) ===
"onboarding_ideals_title" = "ã©ã‚“ãªè‡ªåˆ†ã«ãªã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ";
"onboarding_ideals_subtitle" = "ã„ãã¤ã§ã‚‚é¸ã¹ã¾ã™ã€‚";

// === Ideals (å¤‰æ›´å¾Œ) ===
"onboarding_ideals_title" = "ã©ã‚“ãªè‡ªåˆ†ã«ãªã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ";
"onboarding_ideals_subtitle" = "ã„ãã¤ã§ã‚‚é¸ã‚“ã§ãã ã•ã„ã€‚ãªã‚ŠãŸã„è‡ªåˆ†ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚";
```
```
// === Struggles (å¤‰æ›´å‰) ===
"onboarding_struggles_title" = "ã„ã¾ä½•ã«è‹¦ã—ã‚“ã§ã„ã¾ã™ã‹ï¼Ÿ";
"onboarding_struggles_subtitle" = "å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã‚’ã™ã¹ã¦é¸ã‚“ã§ãã ã•ã„ã€‚";

// === Struggles (å¤‰æ›´å¾Œ: å¤‰æ›´ãªã—ã€æ—¢ã«HTMLå®šç¾©æ›¸æº–æ‹ ) ===
"onboarding_struggles_title" = "ã„ã¾ä½•ã«è‹¦ã—ã‚“ã§ã„ã¾ã™ã‹ï¼Ÿ";
"onboarding_struggles_subtitle" = "å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã‚’ã™ã¹ã¦é¸ã‚“ã§ãã ã•ã„ã€‚";
```

---

### ãƒ‘ãƒƒãƒ5: WelcomeStepView.swift

[`aniccaios/aniccaios/Onboarding/WelcomeStepView.swift`](aniccaios/aniccaios/Onboarding/WelcomeStepView.swift)

```swift
// === å¤‰æ›´å‰ ===
import SwiftUI

struct WelcomeStepView: View {
    let next: () -> Void

    var body: some View {
        VStack(spacing: 32) {
            Text("onboarding_welcome_title")
                .font(AppTheme.Typography.onboardingTitle)
                .fontWeight(.heavy)
                .lineLimit(1)
                .minimumScaleFactor(0.7)
                .allowsTightening(true)
                .foregroundStyle(AppTheme.Colors.label)

            Text("onboarding_welcome_subtitle")
                .font(.subheadline)
                .foregroundStyle(.secondary)
                .multilineTextAlignment(.center)
                .padding(.horizontal)

            PrimaryButton(
                title: String(localized: "onboarding_welcome_cta")
            ) { next() }
        }
        .padding(24)
        .background(AppBackground())
    }
}

// === å¤‰æ›´å¾Œ ===
import SwiftUI

struct WelcomeStepView: View {
    let next: () -> Void

    var body: some View {
        VStack {
            Spacer()
            
            VStack(spacing: 32) {
                Text("onboarding_welcome_title")
                    .font(.system(size: 52, weight: .bold))
                    .lineLimit(2)
                    .minimumScaleFactor(0.7)
                    .multilineTextAlignment(.center)
                    .foregroundStyle(AppTheme.Colors.label)

                Text("onboarding_welcome_subtitle")
                    .font(.system(size: 18, weight: .medium))
                    .foregroundStyle(AppTheme.Colors.label.opacity(0.8))
                    .multilineTextAlignment(.center)
                    .padding(.horizontal, 32)
            }
            
            Spacer()
            
            PrimaryButton(
                title: String(localized: "onboarding_welcome_cta"),
                style: .large
            ) { next() }
            .padding(.horizontal, 16)
            .padding(.bottom, 64)
        }
        .background(AppBackground())
    }
}
```

---

### ãƒ‘ãƒƒãƒ6: ValueStepView.swift

[`aniccaios/aniccaios/Onboarding/ValueStepView.swift`](aniccaios/aniccaios/Onboarding/ValueStepView.swift)

```swift
// === å¤‰æ›´å‰ ===
import SwiftUI

struct ValueStepView: View {
    let next: () -> Void

    var body: some View {
        VStack(spacing: 24) {
            Text(String(localized: "onboarding_value_title"))
                .font(AppTheme.Typography.onboardingTitle)
                .fontWeight(.heavy)
                .lineLimit(2)
                .minimumScaleFactor(0.8)
                .multilineTextAlignment(.center)
                .foregroundStyle(AppTheme.Colors.label)
                .padding(.top, 40)

            ScrollView {
                VStack(spacing: 16) {
                    valueCard(
                        leading: "ğŸ˜”ğŸ’¬",
                        titleKey: "onboarding_value_card1_title",
                        bodyKey: "onboarding_value_card1_body"
                    )
                    valueCard(
                        leading: "â°ğŸ“±",
                        titleKey: nil,
                        bodyKey: "onboarding_value_card2_body"
                    )
                    valueCard(
                        leading: "ğŸ“…â¡ï¸",
                        titleKey: nil,
                        bodyKey: "onboarding_value_card3_body"
                    )
                }
                .padding(.horizontal, 16)
                .padding(.top, 8)
            }

            Spacer()

            PrimaryButton(
                title: String(localized: "common_continue"),
                style: .primary
            ) {
                next()
            }
            .padding(.horizontal, 16)
            .padding(.bottom)
        }
        .background(AppBackground())
    }

    @ViewBuilder
    private func valueCard(
        leading: String,
        titleKey: String?,
        bodyKey: String
    ) -> some View {
        CardView {
            HStack(alignment: .top, spacing: 12) {
                Text(leading)
                    .font(.title2)
                VStack(alignment: .leading, spacing: 6) {
                    if let titleKey {
                        Text(NSLocalizedString(titleKey, comment: ""))
                            .font(.headline)
                            .foregroundStyle(AppTheme.Colors.label)
                    }
                    Text(NSLocalizedString(bodyKey, comment: ""))
                        .font(.subheadline)
                        .foregroundStyle(AppTheme.Colors.secondaryLabel)
                }
                Spacer(minLength: 0)
            }
        }
    }
}

// === å¤‰æ›´å¾Œ ===
import SwiftUI

struct ValueStepView: View {
    let next: () -> Void

    var body: some View {
        VStack(spacing: 0) {
            Text(String(localized: "onboarding_value_title"))
                .font(.system(size: 36, weight: .bold))
                .lineLimit(2)
                .minimumScaleFactor(0.8)
                .multilineTextAlignment(.center)
                .foregroundStyle(AppTheme.Colors.label)
                .padding(.top, 32)
                .padding(.bottom, 48)

            ScrollView {
                VStack(spacing: 16) {
                    valueCard(
                        emoji: "ğŸ¤",
                        titleKey: "onboarding_value_card1_title",
                        bodyKey: "onboarding_value_card1_body"
                    )
                    valueCard(
                        emoji: "ğŸ¯",
                        titleKey: "onboarding_value_card2_title",
                        bodyKey: "onboarding_value_card2_body"
                    )
                    valueCard(
                        emoji: "ğŸ’­",
                        titleKey: "onboarding_value_card3_title",
                        bodyKey: "onboarding_value_card3_body"
                    )
                }
                .padding(.horizontal, 24)
            }

            Spacer()

            PrimaryButton(
                title: String(localized: "common_next"),
                style: .large
            ) {
                next()
            }
            .padding(.horizontal, 16)
            .padding(.bottom, 64)
        }
        .background(AppBackground())
    }

    @ViewBuilder
    private func valueCard(
        emoji: String,
        titleKey: String,
        bodyKey: String
    ) -> some View {
        CardView(cornerRadius: 37) {
            HStack(alignment: .top, spacing: 16) {
                Text(emoji)
                    .font(.system(size: 36))
                    .padding(.top, 4)
                VStack(alignment: .leading, spacing: 8) {
                    Text(NSLocalizedString(titleKey, comment: ""))
                        .font(.system(size: 18, weight: .bold))
                        .foregroundStyle(AppTheme.Colors.label)
                    Text(NSLocalizedString(bodyKey, comment: ""))
                        .font(.system(size: 14))
                        .foregroundStyle(AppTheme.Colors.secondaryLabel)
                        .lineSpacing(4)
                }
                Spacer(minLength: 0)
            }
        }
    }
}
```

---

### ãƒ‘ãƒƒãƒ7: IdealsStepView.swift

[`aniccaios/aniccaios/Onboarding/IdealsStepView.swift`](aniccaios/aniccaios/Onboarding/IdealsStepView.swift)

```swift
// === å¤‰æ›´å‰ (chipButtoné–¢æ•°ã®ã¿) ===
@ViewBuilder
private func chipButton(kind: String, key: String) -> some View {
    let isSelected = selected.contains(key)
    Button {
        if isSelected {
            selected.remove(key)
        } else {
            selected.insert(key)
        }
    } label: {
        Text(NSLocalizedString("\(kind)_\(key)", comment: ""))
            .font(.subheadline)
            .fixedSize(horizontal: true, vertical: false)
            .padding(.horizontal, 12)
            .padding(.vertical, 8)
            .background(isSelected ? AppTheme.Colors.buttonSelected : AppTheme.Colors.buttonUnselected)
            .foregroundStyle(isSelected ? AppTheme.Colors.buttonTextSelected : AppTheme.Colors.buttonTextUnselected)
            .cornerRadius(AppTheme.Radius.md)
            .overlay(
                RoundedRectangle(cornerRadius: AppTheme.Radius.md)
                    .stroke(
                        isSelected ? AppTheme.Colors.border : AppTheme.Colors.borderLight,
                        lineWidth: isSelected ? 2 : 1
                    )
            )
    }
    .buttonStyle(.plain)
}

// === å¤‰æ›´å¾Œ (chipButtoné–¢æ•°ã®ã¿) ===
@ViewBuilder
private func chipButton(kind: String, key: String) -> some View {
    let isSelected = selected.contains(key)
    Button {
        if isSelected {
            selected.remove(key)
        } else {
            selected.insert(key)
        }
    } label: {
        Text(NSLocalizedString("\(kind)_\(key)", comment: ""))
            .font(.system(size: 16, weight: .medium))
            .fixedSize(horizontal: true, vertical: false)
            .padding(.horizontal, 24)
            .padding(.vertical, 12)
            .background(isSelected ? AppTheme.Colors.buttonSelected : AppTheme.Colors.buttonUnselected)
            .foregroundStyle(isSelected ? AppTheme.Colors.buttonTextSelected : AppTheme.Colors.label)
            .clipShape(Capsule())
    }
    .buttonStyle(.plain)
}
```

ã¾ãŸã€ãƒœã‚¿ãƒ³éƒ¨åˆ†ã‚‚å¤‰æ›´:

```swift
// === å¤‰æ›´å‰ (ãƒœã‚¿ãƒ³éƒ¨åˆ†) ===
HStack(spacing: 12) {
    PrimaryButton(
        title: String(localized: "common_skip"),
        style: .unselected
    ) {
        appState.updateIdealTraits([])
        next()
    }
    PrimaryButton(
        title: String(localized: "common_next"),
        style: .primary
    ) {
        appState.updateIdealTraits(Array(selected))
        next()
    }
}
.padding(.horizontal, 16)
.padding(.bottom)

// === å¤‰æ›´å¾Œ (ãƒœã‚¿ãƒ³éƒ¨åˆ†) ===
HStack(spacing: 12) {
    PrimaryButton(
        title: String(localized: "common_skip"),
        style: .unselected
    ) {
        appState.updateIdealTraits([])
        next()
    }
    PrimaryButton(
        title: String(localized: "common_next"),
        style: .large
    ) {
        appState.updateIdealTraits(Array(selected))
        next()
    }
}
.padding(.horizontal, 24)
.padding(.bottom, 64)
```

---

### ãƒ‘ãƒƒãƒ8: StrugglesStepView.swift

[`aniccaios/aniccaios/Onboarding/StrugglesStepView.swift`](aniccaios/aniccaios/Onboarding/StrugglesStepView.swift)

```swift
// === å¤‰æ›´å‰ (chipButtoné–¢æ•°ã®ã¿) ===
@ViewBuilder
private func chipButton(kind: String, key: String) -> some View {
    let isSelected = selected.contains(key)
    Button {
        if isSelected {
            selected.remove(key)
        } else {
            selected.insert(key)
        }
    } label: {
        Text(NSLocalizedString("\(kind)_\(key)", comment: ""))
            .font(.subheadline)
            .fixedSize(horizontal: true, vertical: false)
            .padding(.horizontal, 12)
            .padding(.vertical, 8)
            .background(isSelected ? AppTheme.Colors.buttonSelected : AppTheme.Colors.buttonUnselected)
            .foregroundStyle(isSelected ? AppTheme.Colors.buttonTextSelected : AppTheme.Colors.buttonTextUnselected)
            .cornerRadius(AppTheme.Radius.md)
    }
    .buttonStyle(.plain)
}

// === å¤‰æ›´å¾Œ (chipButtoné–¢æ•°ã®ã¿) ===
@ViewBuilder
private func chipButton(kind: String, key: String) -> some View {
    let isSelected = selected.contains(key)
    Button {
        if isSelected {
            selected.remove(key)
        } else {
            selected.insert(key)
        }
    } label: {
        Text(NSLocalizedString("\(kind)_\(key)", comment: ""))
            .font(.system(size: 16, weight: .medium))
            .fixedSize(horizontal: true, vertical: false)
            .padding(.horizontal, 24)
            .padding(.vertical, 12)
            .background(isSelected ? AppTheme.Colors.buttonSelected : AppTheme.Colors.buttonUnselected)
            .foregroundStyle(isSelected ? AppTheme.Colors.buttonTextSelected : AppTheme.Colors.label)
            .clipShape(Capsule())
    }
    .buttonStyle(.plain)
}
```

ã¾ãŸã€ãƒœã‚¿ãƒ³éƒ¨åˆ†ã‚‚å¤‰æ›´:

```swift
// === å¤‰æ›´å‰ (ãƒœã‚¿ãƒ³éƒ¨åˆ†) ===
HStack(spacing: 12) {
    PrimaryButton(
        title: String(localized: "common_skip"),
        style: .unselected
    ) {
        var profile = appState.userProfile
        profile.problems = []
        appState.updateUserProfile(profile, sync: true)
        next()
    }
    PrimaryButton(
        title: String(localized: "common_next"),
        style: .primary
    ) {
        var profile = appState.userProfile
        profile.problems = Array(selected)
        appState.updateUserProfile(profile, sync: true)
        next()
    }
}
.padding(.horizontal, 16)
.padding(.bottom)

// === å¤‰æ›´å¾Œ (ãƒœã‚¿ãƒ³éƒ¨åˆ†) ===
HStack(spacing: 12) {
    PrimaryButton(
        title: String(localized: "common_skip"),
        style: .unselected
    ) {
        var profile = appState.userProfile
        profile.problems = []
        appState.updateUserProfile(profile, sync: true)
        next()
    }
    PrimaryButton(
        title: String(localized: "common_next"),
        style: .large
    ) {
        var profile = appState.userProfile
        profile.problems = Array(selected)
        appState.updateUserProfile(profile, sync: true)
        next()
    }
}
.padding(.horizontal, 24)
.padding(.bottom, 64)
```

---

### ãƒ‘ãƒƒãƒ9: PrimaryButton.swift (ãƒœã‚¿ãƒ³é«˜ã•ã‚’HTMLä»•æ§˜ã«åˆã‚ã›ã‚‹)

[`aniccaios/aniccaios/DesignSystem/Components/PrimaryButton.swift`](aniccaios/aniccaios/DesignSystem/Components/PrimaryButton.swift)

```swift
// === å¤‰æ›´å‰ (cornerRadius computed property) ===
private var cornerRadius: CGFloat {
    switch style {
    case .primary:
        return AppTheme.Radius.lg
    case .selected, .unselected:
        return AppTheme.Radius.xl
    case .large:
        return AppTheme.Radius.xxl
    }
}

// === å¤‰æ›´å¾Œ ===
private var cornerRadius: CGFloat {
    switch style {
    case .primary:
        return AppTheme.Radius.xxl  // ä¸¸è§’ã«å¤‰æ›´
    case .selected, .unselected:
        return .infinity  // å®Œå…¨ãªä¸¸(Capsule)
    case .large:
        return .infinity  // å®Œå…¨ãªä¸¸(Capsule)
    }
}
```
```swift
// === å¤‰æ›´å‰ (bodyå†…ã®labeléƒ¨åˆ†) ===
.frame(maxWidth: .infinity)
.padding(.vertical, 16)

// === å¤‰æ›´å¾Œ ===
.frame(maxWidth: .infinity)
.frame(height: 64)  // HTMLä»•æ§˜: h-16 = 64pt
```

---

## ä¿®æ­£å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

1. `aniccaios/aniccaios/Onboarding/OnboardingStep.swift`
2. `aniccaios/aniccaios/Onboarding/OnboardingFlowView.swift`
3. `aniccaios/aniccaios/Resources/en.lproj/Localizable.strings`
4. `aniccaios/aniccaios/Resources/ja.lproj/Localizable.strings`
5. `aniccaios/aniccaios/Onboarding/WelcomeStepView.swift`
6. `aniccaios/aniccaios/Onboarding/ValueStepView.swift`
7. `aniccaios/aniccaios/Onboarding/IdealsStepView.swift`
8. `aniccaios/aniccaios/Onboarding/StrugglesStepView.swift`
9. `aniccaios/aniccaios/DesignSystem/Components/PrimaryButton.swift`

### To-dos

- [ ] OnboardingStep.swift ã¨ OnboardingFlowView.swift ã®ãƒ•ãƒ­ãƒ¼é †åºå¤‰æ›´
- [ ] en.lproj/Localizable.strings ã®è‹±èªãƒ†ã‚­ã‚¹ãƒˆä¿®æ­£
- [ ] ja.lproj/Localizable.strings ã®æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆä¿®æ­£
- [ ] WelcomeStepView.swift ã®UIä¿®æ­£
- [ ] ValueStepView.swift ã®UIä¿®æ­£
- [ ] IdealsStepView.swift ã®ãƒãƒƒãƒ—ãƒ»ãƒœã‚¿ãƒ³ä¿®æ­£
- [ ] StrugglesStepView.swift ã®ãƒãƒƒãƒ—ãƒ»ãƒœã‚¿ãƒ³ä¿®æ­£
- [ ] PrimaryButton.swift ã®ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£