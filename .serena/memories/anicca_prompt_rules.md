# Aniccaプロンプト作成規約

## 絶対厳守事項

### ゴミロジックの完全禁止
- **❌ 絶対NG**: `includes('起床')`, `includes('就寝')` などの文字列判定
- **❌ 絶対NG**: 条件分岐でプロンプトを変える
- **❌ 絶対NG**: `${condition ? 'A' : 'B'}` のような三項演算子
- **✅ 正解**: 自然言語でそのまま指示

### 理由
- Aniccaは賢いAIアシスタント
- 自然言語を完全に理解できる
- 余計な条件分岐は改悪でしかない
- プロンプトエンジニアリングで解決すべき

### 正しい例
```typescript
// ✅ 良い例（自然言語で指示）
const command = `
  タスク内容：${task.description}（${task.command}）
  
  起床タスクなら起こしてください。
  就寝タスクなら寝かせてください。
  ユーザーの反応があるまで声をかけ続けてください。
`;

// ❌ 悪い例（絶対禁止）
if (task.description.includes('起床')) {
  command = '起床用のコマンド';  // ゴミロジック！
}

// ❌ 悪い例（絶対禁止）
const prefix = task.description.includes('起床') ? '起きて' : '寝て';  // ゴミロジック！
```

### 重要な教訓
- プロンプトはAniccaへの指示であり、Claudeへの指示と同じ
- 君（Claude）が`includes`なしで理解できるなら、Aniccaも理解できる
- 金輪際ゴミロジックでAniccaを汚したら許さない

## 定期タスクプロンプトの要点

### 行動変容エージェントとしての使命
- Aniccaはユーザーの行動変容を促すエージェント
- 確実に起こす/寝かせることが使命
- どんな手段を使ってでも達成する

### エスカレーション戦略
1. 最初は優しく
2. 反応がなければ声を大きく、口調を強く
3. scheduled_tasks.jsonを活用した具体的な説得
4. 必要なら脅しも使う

### 自律的な工夫
- 文言はAniccaに自律的に考えさせる
- 創造的になってもらう
- ユーザーの予定を活用して説得する