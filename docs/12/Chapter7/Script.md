# 第7章 マーケティングを支援する - 発表原稿

## スライド1: タイトルスライド

こんにちは。本日は第7章「マーケティングを支援する」について発表させていただきます。この章では、マーケティング業務においてAIエージェントをどのように活用できるか、具体的な実装例を通じて学んでいきます。私自身もAIエージェントについては初心者ですが、一緒に理解を深めていければと思います。

---

## スライド2: 目次

今日の発表は大きく5つのセクションに分かれています。まず7.1節でマーケティング業務とは何か、その基本的な考え方を整理します。次に7.2節で、マーケティング業務における課題と、AIエージェントがどのように解決できるかを説明します。そして7.3節と7.4節では、実際に2つのエージェントシステムを実装していきます。最後に7.5節でまとめを行います。それでは、順番に見ていきましょう。

---

## スライド3: 本章で作成するエージェント

本章では、2つのエージェントシステムを実装していきます。1つ目は、ロールプレイングによる意思決定支援エージェントです。これは、ペルソナを活用してコンテンツを評価し、改善するシステムで、4つのエージェントで構成されています。2つ目は、パーソナライズ施策支援エージェント、通称MACRSです。これは会話を通じてユーザーに最適なコンテンツを推薦するシステムで、5つのエージェントで構成されています。それぞれの詳細は後ほど見ていきますが、まずはマーケティング業務の基礎から理解していきましょう。

---

## スライド4: 7.1 マーケティング業務とは

マーケティングとは、簡単に言うと「売れる仕組みを作る業務」です。かつては大量生産と広告による一方向的なアプローチが主流でしたが、現代では大きく変化しています。個々の顧客のニーズに合わせたパーソナライズされた情報を、最適なタイミングで提供することが求められています。この変化の背景には、顧客ニーズの多様化やデジタル技術の発展があります。マーケティングの歴史的な変遷を、次のスライドで見てみましょう。

---

## スライド5: マーケティングの変遷

この図は、マーケティングがどのように変化してきたかを時系列で示しています。1900年代から1950年代は製品中心の時代で、大量生産が目的でした。1950年代から1970年代は顧客中心の時代に移り、顧客のニーズを理解することが重要になりました。その後、価値志向、自己実現、テクノロジー活用と進化し、2020年以降は顧客の価値観を重視したアプローチが求められています。この変化は、単なる手法の変化ではなく、顧客との関係性の捉え方そのものが変わってきたことを示しています。

---

## スライド6: コトラーの「マーケティング5.0」

フィリップ・コトラーの「マーケティング5.0」では、デジタル技術を活用した新たな戦略が提唱されています。AIやその他の技術を活用して、顧客の行動や潜在的なニーズを深く理解し、パーソナライズされた体験を提供することが重要です。ここで重要な視点は、「誰に、どのような価値を、いつ提供するか」という3つの要素です。この視点は、これからのマーケティング施策を考える上での基本原則となります。顧客の価値観を重視したマーケティング施策が、現代では不可欠になっているのです。

---

## スライド7: 購買意思決定プロセス

マーケティング施策を効果的に実施するためには、顧客の購買行動を理解することが不可欠です。コトラーが提唱した「購買意思決定プロセス」は、顧客が製品やサービスを選択してから購入するまでの行動を5つの段階に分けたものです。このプロセスを理解することで、各段階で顧客を適切にサポートし、スムーズな意思決定を促すことができます。次のスライドで、この5つの段階を詳しく見ていきましょう。

---

## スライド8: 購買意思決定プロセスの5段階

購買意思決定プロセスは、5つの段階に分かれています。1つ目は「認知」で、自分が抱える課題やニーズを意識する段階です。2つ目は「情報検索」で、必要な商品やサービスの情報を集める段階です。3つ目は「比較評価」で、複数の候補を比較し、最適な選択肢を絞り込む段階です。4つ目は「購買」で、実際に購入アクションを起こす段階です。最後の5つ目は「購買後の行動」で、購入結果の評価やレビュー投稿、次の購買行動への影響などが含まれます。各段階で、マーケティングは異なる役割を果たします。例えば、認知段階では「XX問題を解決しましょう！」といったキャッチーなフレーズで、顧客に課題を意識させることが重要です。情報検索段階では、詳細情報の提供や比較資料の作成が効果的です。

---

## スライド9: マーケティングプロセスと業務

この図は、マーケティングプロセスと、それに対応する業務の例を示しています。マーケティング部門は、調査・分析、戦略策定、集客、リード顧客獲得、リード顧客育成を担当します。各プロセスで、具体的な施策が実施されます。例えば、集客段階ではWeb広告やDM、動画、ビジネスブログなどが作成・配信されます。リード顧客獲得段階では、ランディングページの作成や展示会、セミナーの開催が行われます。これらのプロセスを通じて、マーケティングは顧客をインサイドセールスや営業に適切に引き継ぐことを目指します。

---

## スライド10: マーケティングプロセスの目的

マーケティング業務の目的は、顧客をインサイドセールスや営業に適切に引き継ぐことです。特に重要なのは、集客とリード顧客獲得・育成です。集客では、コンテンツや広告を通じて、顧客に自社や課題を認知させることが目的です。リード顧客獲得・育成では、メルマガやセミナー、比較情報や導入事例の提供などの活動を行います。これらのプロセスを通じて、マーケティングは顧客の購買意欲を高め、次の段階へのスムーズな移行を目指します。この目的を達成するために、AIエージェントがどのように活用できるか、次のセクションで見ていきましょう。

---

## スライド11: 7.2 マーケティング業務におけるAIエージェントの活用

購買意思決定プロセスに基づいた顧客視点を重視したマーケティングの重要性は理解できても、実際のマーケティング業務では様々な課題が発生しています。現代のマーケティングでは、4つの主要な課題が顕在化しています。1つ目は、データの多様化と分析コストの増大です。WebサイトやSNSなど、さまざまなチャネルから日々膨大なデータが蓄積され、それらを統合・分析することは大きな負担となっています。特に、SNSや動画データなどの非構造化データから深い顧客インサイトを抽出するには、専門的な知識やスキルが必要であり、そのような人材が大幅に不足しています。2つ目は、パーソナライズの限界です。個々の顧客の興味や行動パターンを正確に把握することが困難な場合が多く、画一的な情報発信や施策になってしまうことがあります。残りの2つの課題は、次のスライドで説明します。

---

## スライド12: マーケティング業務の課題（続き）

3つ目の課題は、適切なタイミングでの施策実行の限界です。顧客の購買意思決定プロセスに合わせた最適な情報を提供できない場合、競合他社に顧客を奪われるリスクが高まります。また、市場やトレンドの変化に迅速に対応することが困難であり、タイミングを逃すとキャンペーンの効果が低下してしまいます。4つ目の課題は、マーケティングプロセスのサイクルの長期化です。データ分析や計画立案に時間をかけすぎると、意思決定が遅れ、市場機会を逃すことになります。PDCAサイクルを効率的に回すことができないと、継続的な改善が困難になります。これらの課題を解決するために、AIエージェントがどのようなメリットを提供できるか、次のスライドで見ていきましょう。

---

## スライド13: AIエージェントのメリット

AIエージェントをマーケティング業務に適用するメリットは、大きく2つあります。1つ目は、マーケティングプロセスの自動化・加速化です。AIエージェントは、これまで多大な時間と労力を要していた分析、実行、改善の一連のワークフローを効率化します。計画から実行、効果検証、改善まで一貫したサポートを提供することで、PDCAサイクルをより迅速に完了させることができ、動的な市場変化に対して柔軟に対応することが可能になります。2つ目は、顧客体験の向上とコンテンツの最適化です。AIエージェントは、顧客の行動や興味を詳細に分析し、個々の顧客に合わせたパーソナライズされたコンテンツやレコメンデーションを提供します。このアプローチにより、画一的なアプローチでは実現できなかった高いエンゲージメントやコンバージョン率を達成することが期待されます。

---

## スライド14: AIエージェントの活用事例

実際に、マーケティングを支援するAIエージェントは、すでにさまざまなプラットフォームやベンダーから提供されています。代表的な事例を3つ紹介します。1つ目は、AgentforceのSales Development Representative、通称SDR Agentです。これは、リード顧客との初回接触を自動化し、リード育成を支援するエージェントです。製品に関する質問に自律的に回答し、反論に対応し、営業担当者に代わってアポイントメントを設定することもできます。SMSやWhatsAppなどの希望するチャネルで、あらゆる言語でコミュニケーションを取ることができます。2つ目は、AgentforceのPersonal Shopper Agentです。これは、ショッパーと対話し、パーソナライズされた商品を提案することで、顧客のショッピング体験を向上させるAIエージェントです。情報検索から交渉、購入段階での成約まで、顧客をサポートします。3つ目は、JAPAN AI AGENTです。これは、日本の市場に特化した自然言語処理と法的コンプライアンスを備えたエージェントで、マーケティング活動を支援します。これらの事例から、AIエージェントが実際のビジネスで活用されていることが分かります。

---

## スライド15: 本章で扱うシナリオ

以降のセクションでは、具体的な実装例を紹介していきます。本章では、「新サービスを成功させるためにAIエージェントを活用する」というシナリオに基づいて説明します。背景として、IT企業が、AIエージェントを活用して業務効率化を目指すビジネスパーソンを対象とした「AIエージェント実践講座」という新サービスを立ち上げたとします。この企業は2つの主要なケースで課題を抱えています。ケース①は、集客・リード顧客獲得プロセスにおける課題で、顧客ニーズに合った最適なコンテンツを選定することが困難です。この課題は、7.3節で紹介するロールプレイングによる意思決定支援エージェントで解決します。ケース②は、リード顧客獲得・育成プロセスにおける課題で、顧客ニーズを迅速に把握し、適切なタイミングでコンテンツを提供したいと考えています。この課題は、7.4節で紹介するパーソナライズ施策支援エージェント、MACRSで解決します。それでは、まずケース①から見ていきましょう。

---

## スライド16: 7.3 ロールプレイングによる意思決定支援エージェント

ロールプレイングによる意思決定支援エージェントは、ターゲットとなる顧客層に対するコンテンツの効果をシミュレーションすることで、マーケティングチームの迅速な意思決定を支援します。複数のコンテンツ案を評価する際、迅速な意思決定が求められますが、データが不足している場合や、議論に時間がかかる場合、実装が遅れてしまうことがあります。従来のA/Bテストでは、選択肢が限られ、十分なデータを収集するまでに時間がかかります。ロールプレイングプロセスを導入することで、意思決定に必要な時間とリソースを大幅に削減することができます。アプローチとしては、ターゲットペルソナを定義し、AIエージェントがコンテンツに対するペルソナの反応をシミュレーションします。このシミュレーション結果をフィードバックとして活用することで、コンテンツの改善や、より正確で迅速な意思決定が可能になります。

---

## スライド17: 意思決定支援エージェントの処理フロー

この図は、意思決定支援エージェントの処理フローを示しています。処理は、開始から、Persona Generator、Contents Evaluator、Contents Analyzer、Content Improverを経て、最終結果に至る流れになっています。各エージェントが順番に実行される、シンプルなフローです。次のスライドで、各エージェントの役割を詳しく見ていきましょう。

---

## スライド18: 処理フローの詳細

処理フローは、4つのエージェントで構成されています。1つ目は、Persona Generatorで、コンテンツ評価に適したペルソナを作成します。2つ目は、Contents Evaluatorで、ペルソナの視点からコンテンツを評価します。3つ目は、Contents Analyzerで、評価結果を分析し、改善レポートを作成します。4つ目は、Content Improverで、レポートに基づいてコンテンツを改善します。このシステムの特徴は、4つのエージェントが順番に実行されるシンプルなフローであることと、AgentStateクラスで各段階の状態を管理していることです。この設計により、各エージェントが独立して動作しながらも、状態を共有して連携することができます。

---

## スライド19: 実装：ワークフローの定義

実装では、LangGraphを使用してワークフローを定義しています。LangGraphは、マルチエージェントシステムのワークフロー管理に特化したライブラリです。コードを見ると、StateGraphを使ってAgentStateを管理し、各エージェントのノードを追加しています。エッジの定義では、STARTからpersona_generatorへ、その後順番に各エージェントを経て、ENDに至る流れが定義されています。このように、LangGraphを使うことで、複雑なワークフローをシンプルに定義できることが分かります。実際のコードでは、各エージェントのrunメソッドが呼び出され、状態が更新されながら次のエージェントに渡されていきます。

---

## スライド20: 実装：Persona Generator & Contents Evaluator

Persona Generatorは、コンテンツ評価に適したペルソナを5種類作成するエージェントです。プロセスとしては、まずユーザーリクエストとコンテンツから役割リストを生成します。次に、各役割について、職業・趣味・関心・スキルを定義します。最後に、ペルソナプロファイルを作成します。Contents Evaluatorは、ペルソナの視点からコンテンツを評価するエージェントです。各ペルソナに対して、アンケート形式で評価を実施します。この2つのエージェントが連携することで、多様な視点からコンテンツを評価することができます。ペルソナを5種類作成することで、より多角的な評価が可能になります。

---

## スライド21: 実装：Contents Analyzer & Content Improver

Contents Analyzerは、評価結果を分析し、改善レポートを作成するエージェントです。ペルソナの視点を重視して評価結果を分析し、具体的な改善点を示します。このレポートは、次のエージェントであるContent Improverで使用されます。Content Improverは、評価レポートに基づいてコンテンツを改善するエージェントです。改善レポートを参照して、改善後のコンテンツを生成します。この2つのエージェントが連携することで、評価結果を具体的な改善案に変換し、実際にコンテンツを改善することができます。この流れにより、単なる評価だけでなく、実際の改善まで自動化できることが、このシステムの強みです。

---

## スライド22: 実装：アンケート項目

アンケート項目は、5つの評価項目で構成されています。1つ目は「魅力」で、コンテンツのどの部分が魅力的だと感じたかを尋ねます。2つ目は「訴求力」で、このコンテンツの内容にどれだけ興味を持ったかを尋ねます。3つ目は「理解しやすさ」で、コンテンツを見たとき、内容を明確にイメージできたかを尋ねます。4つ目は「興味喚起」で、コンテンツはあなたの興味をどれくらい喚起したかを尋ねます。5つ目は「行動喚起」で、コンテンツを見た後、次のアクションを取りたくなったかを尋ねます。このアンケートの特徴は、定性的な項目を設定していることです。インタビュー形式の質問により、定量的なアンケートでは得られないインサイトを引き出すことができます。ペルソナを模倣したエージェントからの回答を求める場合、人間に負担をかける定量的なアンケート項目を使用する必要はないため、定性的な項目を設定することで、より深いインサイトを得ることができます。

---

## スライド23: 実行例と結果

実際の実行例を見てみましょう。ユーザーリクエストは、「生成AIエージェントを活用して業務効率化を目指すビジネスパーソンに興味をもってもらえるようにコンテンツのテーマを改善して」というものです。評価対象コンテンツは3件で、1つ目はブログ記事「生成AIエージェント活用事例:業務効率化の成功ストーリー」、2つ目はウェビナー「生成AIエージェントの可能性を探る: 業界リーダーによるディスカッション」、3つ目はポッドキャスト「生成AIエージェントで変わるビジネスの未来」です。これらのコンテンツを、ペルソナの視点から評価し、改善していく流れを、次のスライドから見ていきましょう。

---

## スライド24: 実際の出力結果

実際の出力結果を見ると、25種類のペルソナが生成されました。ペルソナ生成の仕組みとしては、まず役割リストを生成します。例として、ビジネスパーソン、生成AIエージェントの専門家、業務効率化コンサルタント、マーケティング担当者、テクノロジー愛好家などが生成されます。次に、各役割について5種類のペルソナを生成します。その結果、合計25種類のペルソナが生成されます。これは、設計された生成プロセスに基づいています。例として、ペルソナ2の企業コンサルタントを見ると、役割はビジネスパーソン、職業は企業コンサルタント、趣味・関心はテクノロジーの最新トレンドやビジネス書の読書、ゴルフ、トレッキングなど、スキルや知識は業務効率化の専門知識、生成AIの知見、プロジェクトマネジメント、経営戦略の立案などが定義されています。このように、多様なペルソナを生成することで、より多角的な評価が可能になります。

---

## スライド25: 実行例と結果（続き1）

実際の評価結果の例として、ペルソナ2の企業コンサルタントによる評価を見てみましょう。ブログ記事については、非常に興味を持ったという評価で、具体的な成功事例は実践的であり、業務効率化に直結する情報は非常に価値があるとされています。改善点としては、具体的な数値データやビフォーアフターの比較を加えると、さらに興味を引くという指摘があります。ウェビナーについても、非常に興味を持ったという評価で、業界リーダーの意見やディスカッションは、実践的な知識を得るための貴重な機会とされています。改善点としては、質疑応答の時間を設けることで、参加者の具体的な疑問に答える機会を増やすと良いという指摘があります。ポッドキャストについては、少し興味を持ったという評価で、ポッドキャストは視覚的な情報がないため、具体的なイメージを持ちにくいとされています。改善点としては、具体的な事例やインタビューの要約をテキストで提供すると、理解が深まるという指摘があります。このように、各ペルソナから具体的な評価と改善点が得られることが、このシステムの価値です。

---

## スライド26: 実行例と結果（続き1-2）

実際の分析レポートの結論部分を見てみましょう。総合評価と提案として、ブログ記事は具体的な成功事例を通じて実用的な価値を提供し、読者の興味を強く引きつける力がありますが、データの具体性を高めることでさらに効果的になるとされています。ウェビナーはリアルタイムのインタラクションが可能で、参加者の関心を引き続ける力がありますが、事前情報の提供とフォローアップを強化することで、参加者の満足度を向上させることができるとされています。ポッドキャストはテーマが広範で興味を引きますが、具体性を増すことでリスナーの行動を促す力を強化できるとされています。これらの改善点を実施することで、各コンテンツ形式の効果を最大化し、ターゲットオーディエンスのニーズにより的確に応えることができると結論づけられています。このレポートから、各コンテンツの強みと改善点が明確になり、次のアクションが具体的に見えてくることが分かります。

---

## スライド27: 実行例と結果（続き2）

改善前後のコンテンツを比較してみましょう。ブログ記事の改善前は、LinkedInやTwitterでシェアするためのブログ記事で、生成AIエージェントを活用して業務効率化を実現した企業の成功事例を紹介し、ビジネスパーソンに興味を持たせるという内容でした。改善後は、これに加えて、具体的な数値データやビフォーアフターの比較を加え、読者がコメントを残したり質問を投稿できる機能を追加し、関連リソースへのリンクを提供するという内容になっています。ウェビナーの改善前は、業界関連のオンラインイベントでのプレゼンテーションで、生成AIエージェントの活用方法や業務効率化の具体例を業界リーダーがディスカッションするという内容でした。改善後は、これに加えて、事前にトピックや質問を共有し、フォローアップとして録画やハイライト、関連資料を提供し、質疑応答の時間を十分に確保するという内容になっています。このように、評価結果に基づいて、具体的な改善案が提示されていることが分かります。

---

## スライド28: 実行例と結果（続き3）

ポッドキャストの改善前は、マーケティング関連のポッドキャストでのゲスト出演で、生成AIエージェントがどのようにビジネスの未来を変えるかについてのインタビューを通じて、リスナーに認知を広げるという内容でした。改善後は、これに加えて、具体的な事例やデータを紹介し、エピソード概要やキーポイントを事前に提供し、関連リソースへのリンクを提供するという内容になっています。この改善結果から、評価で指摘された「視覚的な情報がないため、具体的なイメージを持ちにくい」という課題に対して、「具体的な事例やデータを紹介し、エピソード概要やキーポイントを事前に提供する」という改善案が提示されていることが分かります。このように、評価結果が具体的な改善案に変換されていることが、このシステムの実用性を示しています。今後、このシステムをさらに発展させるなら、例えば、改善後のコンテンツを再度評価して、改善効果を測定する機能を追加すると面白いかもしれません。また、複数の改善案を生成して、その中から最適なものを選択する機能も考えられます。

---

## スライド29: 7.4 パーソナライズ施策支援エージェント

7.3節のエージェントを活用したマーケティング施策によって顧客の認知や自社サイトへの流入を高めることができても、リード顧客を獲得し、最終的に購買アクションへつなげることには課題が残ります。想定シナリオにおける「AIエージェント実践講座」のように、AIエージェントを活用した業務効率化に興味のあるビジネスパーソンを広く募ったとしても、顧客の興味や検討フェーズに反したプロモーションやコンテンツを提示してしまった場合、顧客が離脱する可能性があります。従来のレコメンドシステムでは、過去の購買履歴や閲覧履歴などのデータに基づいて推薦を行うため、新規ユーザーに対しては十分なデータがない「コールドスタート問題」が発生します。また、ユーザーのリアルタイムな文脈や意図を反映することが難しく、パーソナライズの限界があります。このような課題を解決するために、会話を通じてユーザーの興味やニーズを理解し、柔軟にパーソナライズされたレコメンドを提供する会話型AIエージェントが注目されています。本節では、会話型レコメンドシステムの一例として、Multi-Agent Conversational Recommender System、通称MACRSを紹介します。

---

## スライド30: 従来型レコメンドとの違い

従来型のレコメンドとAIエージェントによるレコメンドの違いを、4つの課題の観点から比較してみましょう。1つ目の課題は、コールドスタート問題です。従来型のレコメンドでは、データが不足すると対応不可ですが、AIエージェントによるレコメンドでは、文脈や外部情報を会話から取得して対応可能です。2つ目の課題は、パーソナライズの限界です。従来型のレコメンドでは、過去データに依存しますが、AIエージェントによるレコメンドでは、リアルタイム文脈やトレンドを反映できます。3つ目の課題は、提案の多様性不足です。従来型のレコメンドでは、類似商品に偏りますが、AIエージェントによるレコメンドでは、異なるカテゴリや新しい関連性を提案できます。4つ目の課題は、フィードバックの活用です。従来型のレコメンドでは、基本的に対応不可ですが、AIエージェントによるレコメンドでは、リアルタイムでの応答と提案変更が可能です。このように、AIエージェントによるレコメンドは、従来型のレコメンドの課題を解決できる可能性があります。

---

## スライド31: MACRSの構成

この図は、MACRSの構成を示しています。MACRSは、プランナーエージェントと3つの応答エージェントで構成されています。プランナーエージェントは、どの応答エージェントに応答してもらうか計画・選択する役割を担っています。応答エージェントは、質問エージェント、推薦エージェント、雑談エージェントの3つです。この構成により、ユーザーの状況に応じて適切な応答を選択できるようになっています。次のスライドで、各エージェントの役割を詳しく見ていきましょう。

---

## スライド32: MACRSの構成要素

MACRSの構成要素を詳しく見ていきましょう。プランナーエージェントは、ルーターの役割を担っており、どの応答エージェントに応答してもらうか計画・選択します。応答エージェントは3つあります。1つ目は、質問エージェントで、ユーザーの好みやニーズを引き出すために質問を生成します。2つ目は、推薦エージェントで、ユーザーの興味に基づいてコンテンツのレコメンドを行います。3つ目は、雑談エージェントで、ユーザーと雑談を交えることで興味を引き出します。チャット例として、ユーザーが「こんにちは! リラックスできるアニメ映画を観たいです。」と言った場合、MACRSは質問エージェントを選択し、「クラシックな映画をお探しですか、それとも最近のものが良いですか?」と質問します。このように、ユーザーの状況に応じて適切なエージェントが選択されることが、MACRSの特徴です。

---

## スライド33: MACRSの処理フロー

この図は、MACRSの処理フローを示しています。処理は、ユーザー入力処理ノードから始まり、プランナーエージェントでどの応答エージェントに応答してもらうか選択し、その後、質問エージェント、推薦エージェント、雑談エージェントのいずれかにルーティングされます。このフローにより、ユーザーの状況に応じて適切な応答を選択できるようになっています。次のスライドで、実装の詳細を見ていきましょう。

---

## スライド34: 実装：ワークフローの定義

実装では、LangGraphを使用してワークフローを定義しています。コードを見ると、StateGraphを使ってAgentStateを管理し、各エージェントのノードを追加しています。特徴的なのは、条件分岐によるルーティングです。プランナーエージェントの出力であるselected_agentに基づいて、適切なエージェントにルーティングされます。path_mapでは、QuestionAgent、ChitChatAgent、RecommendationAgentのいずれかにルーティングされることが定義されています。このように、条件分岐による柔軟な処理フローを実現できることが、LangGraphの強みです。7.3節の意思決定支援エージェントとは異なり、MACRSでは条件分岐による動的なルーティングが行われていることが分かります。

---

## スライド35: 実装：プランナーエージェント & ユーザー入力処理

プランナーエージェントは、どの応答エージェントに応答させるか選択する役割を担っています。プロセスとしては、ユーザーの入力や会話履歴をもとに、適切なエージェントを選択します。出力は、selected_agentで、QuestionAgent、ChitChatAgent、RecommendationAgentのいずれかになります。UserInputAgentは、ユーザー入力の処理と終了判定を行う役割を担っています。プロセスとしては、ユーザーからの入力を取得し、exitがTrueなら処理を終了します。この2つのエージェントが連携することで、ユーザーの状況に応じて適切な応答を選択できるようになっています。プランナーエージェントの判断が、システム全体の動作を決定する重要な役割を担っていることが分かります。

---

## スライド36: 実装：3つの応答エージェント

3つの応答エージェントの役割を見ていきましょう。QuestionAgentは、ユーザーとの会話履歴を参照しながら、興味を引き出す質問を生成します。RecommendationAgentは、ユーザーとの会話履歴に基づいて、コンテンツリストから適切な推薦を行います。ChitChatAgentは、ユーザーとの親しみやすい会話を行います。これらのエージェントは、システムプロンプトを与えただけのシンプルなエージェントですが、プランナーエージェントが適切に選択することで、効果的な応答が可能になります。この設計により、各エージェントの役割が明確になり、システム全体の動作が理解しやすくなっています。

---

## スライド37: 実装：コンテンツリスト

コンテンツリストは、購買意思決定プロセスの各フェーズに適したコンテンツで構成されています。認知フェーズにはブログ記事、情報検索フェーズにはメールニュースレター、比較・評価フェーズにはダウンロード資料、購入フェーズにはプロモーションメール、購入後の行動フェーズにはコミュニティフォーラムが対応しています。この設計により、各フェーズに適したコンテンツを推薦することで、顧客の購買意思決定プロセスに沿ったサポートが可能になります。7.1節で学んだ購買意思決定プロセスが、実際のシステム設計に活かされていることが分かります。このように、理論と実装が結びついていることが、このシステムの価値です。

---

## スライド38: 実行例と対話フロー

実際の対話例を見てみましょう。対話1回目では、ユーザーが「こんにちは、AIエージェントについて学びたいと思っています。」と言いました。選択されたエージェントはQuestionAgentで、AIエージェントは「生成AIエージェントについて学びたいとのことですが、具体的にどのような情報をお探しですか？例えば、業務効率化の成功事例や最新情報、他のAIツールとの比較など、興味のあるトピックを教えていただければ、それに関連するコンテンツを紹介できます。」と質問しました。このように、ユーザーの興味を引き出すために、質問エージェントが選択されています。次の対話例を見てみましょう。

---

## スライド39: 実行例と対話フロー（続き1）

対話2回目では、ユーザーが「ビジネス活用事例が知りたいです。」と言いました。選択されたエージェントはRecommendationAgentで、AIエージェントは「それでは、生成AIエージェントを活用した業務効率化の成功事例に関するコンテンツをおすすめします。以下のブログ記事をご覧ください。コンテンツタイトルは、生成AIエージェント活用事例：業務効率化の成功ストーリーで、コンテンツ概要は、LinkedInやTwitterでシェアするためのブログ記事。生成AIエージェントを活用して業務効率化を実現した企業の成功事例を紹介し、ビジネスパーソンに興味を持たせる。」とレコメンドしました。このように、ユーザーの興味が明確になった時点で、推薦エージェントが選択され、適切なコンテンツが推薦されています。会話履歴を蓄積することで、ユーザーのニーズを把握できていることが分かります。

---

## スライド40: 実行例と対話フロー（続き2）

対話3回目では、ユーザーが「ありがとうございます。講座についての情報がありますか。」と言いました。選択されたエージェントはRecommendationAgentで、AIエージェントは「生成AIエージェントに関する講座についての情報をお探しですね。それでは、以下のプロモーションメールをおすすめします。このメールでは、生成AIエージェントの実践講座に関する特典情報を提供しています。コンテンツタイトルは、今だけの特典！生成AIエージェント実践講座をお得に購入で、コンテンツ概要は、初回購入割引や追加リソースの提供を含むプロモーションメール。ターゲットに購入を促すための特典情報を提供。」とレコメンドしました。このように、ユーザーが講座について尋ねた時点で、購入フェーズに適したプロモーションメールが推薦されています。購買意思決定プロセスの各フェーズに適したコンテンツが推薦されていることが分かります。

---

## スライド41: 実行例と対話フロー（続き3）

対話4回目では、ユーザーが「具体的には、どのようなスキルが身につきますか？」と言いました。選択されたエージェントはQuestionAgentで、AIエージェントは「生成AIエージェントの実践講座を受講することで、具体的にどのようなスキルが身につくのか気になりますね。例えば、業務効率化のためのAIツールの活用方法や、生成AIエージェントを使ったデータ分析のスキル、またはAIを活用したビジネス戦略の立案など、特に興味のあるスキルや分野はありますか？それに応じた情報を提供できるかもしれません。」と質問しました。このように、ユーザーが詳細な情報を求めている時点で、質問エージェントが選択され、より具体的なニーズを引き出そうとしています。この対話例から、プランナーエージェントがユーザーの状況に応じて適切なエージェントを選択できていることが分かります。今後、このシステムをさらに発展させるなら、例えば、ユーザーの購買意欲が高まった時点で、自動的に営業担当者に引き継ぐ機能を追加すると面白いかもしれません。また、対話履歴を分析して、ユーザーの購買意思決定プロセスのどの段階にいるかを自動判定する機能も考えられます。

---

## スライド42: 7.5 まとめ

本章では、現代のマーケティングにおける課題を解決するために、AIエージェントを活用した2つのケーススタディを紹介しました。1つ目は、ロールプレイングによる意思決定支援エージェントで、ペルソナを活用した評価とフィードバックにより、マーケティングチームの意思決定を支援します。2つ目は、パーソナライズ施策支援エージェントで、MACRSを参考にした会話型レコメンドシステムを実装し、プランナーエージェントが最適な応答を選択し、ユーザーの文脈をリアルタイムで反映します。AIエージェントは、顧客体験の向上やマーケティング生産性の最大化を実現する強力なツールであり、今後のマーケティング戦略において重要な役割を果たすことが期待されます。この2つのケーススタディから、AIエージェントがマーケティング業務の様々な課題を解決できる可能性があることが分かります。

---

## スライド43: 技術スタック

実装に使用した技術スタックを紹介します。LangGraphは、マルチエージェントシステムのワークフロー管理に特化したライブラリで、複雑なワークフローをシンプルに定義できます。OpenAI APIは、GPT-4oのバージョン2024-08-06を使用しています。Pythonは実装言語として使用し、Pydanticは構造化出力のためのモデル定義に使用しています。実装の特徴としては、AgentStateクラスで各段階の状態を管理し、LangGraphを使用した柔軟なワークフロー定義、Pydanticモデルを使用した型安全な出力が挙げられます。これらの技術を組み合わせることで、堅牢で拡張性の高いシステムを構築できています。

---

## スライド44: 実装のポイント

2つのエージェントシステムの実装のポイントをまとめます。意思決定支援エージェントは、4つのエージェントを順次実行するシンプルなフローで、ペルソナ生成→評価→分析→改善の流れになっています。各エージェントが独立して動作し、状態を共有しています。MACRSは、プランナーエージェントによる動的なルーティング、会話履歴を蓄積してユーザーのニーズを把握、条件分岐による柔軟な処理フロー、ユーザーの入力に応じて適切なエージェントを選択するという特徴があります。この2つのシステムは、異なるアプローチを取っていますが、どちらもLangGraphを活用して実装されており、マルチエージェントシステムの柔軟性を示しています。

---

## スライド45: 実装のポイント（続き）

2つのエージェントシステムの違いを、表で比較してみましょう。実行方式では、意思決定支援エージェントは順次実行、MACRSは条件分岐ルーティングです。状態管理では、意思決定支援エージェントは単一の状態フロー、MACRSは会話履歴の蓄積です。エージェント数では、意思決定支援エージェントは4つ、MACRSは5つ（プランナー含む）です。用途では、意思決定支援エージェントはコンテンツ評価・改善、MACRSは会話型レコメンドです。この比較から、それぞれのシステムが異なる目的に適していることが分かります。意思決定支援エージェントは、一度の実行で結果を得るバッチ処理的なアプローチ、MACRSは、継続的な対話を通じて結果を得るインタラクティブなアプローチと言えます。

---

## スライド46: 実装方法について

実装方法について説明します。追加実装は不要で、ノートブックを実行するだけで結果が得られます。意思決定支援エージェントの場合は、notebooks/decision_support_agent_runner.ipynbを実行し、DecisionSupportAgentをインスタンス化して、user_requestを設定し、run_agentメソッドを呼び出すだけです。MACRSの場合は、notebooks/macrs_runner.ipynbを実行し、MACRSをインスタンス化して、run_agentメソッドを呼び出すだけです。MACRSは対話型なので、実際にユーザーと対話しながら動作します。実行後、結果をスライドに反映してください。このように、実装が簡単であることも、このシステムの強みです。実際に試してみることで、より深く理解できると思います。

---

## スライド47: 質疑応答

以上で、第7章「マーケティングを支援する」の発表を終わります。ご質問やご意見がございましたら、お聞かせください。また、参考文献として、フィリップ・コトラーの「コトラーのマーケティング5.0」、LangGraph Documentation、OpenAI API Documentation、Jiabao Fangの「A Multi-Agent Conversational Recommender System」を挙げています。これらの資料を参照することで、より深く理解できると思います。本日はありがとうございました。

