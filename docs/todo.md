

ãƒ¼ãƒ¼ãƒ¼
```markdown
# ğŸ¯ 9æœˆã®ã‚´ãƒ¼ãƒ«åˆ¥ã‚¿ã‚¹ã‚¯æ•´ç†

æ³•äººå‘ã‘è¡Œå‹•å¤‰å®¹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®é–‹ç™º
## ä¼šç¤¾ ğŸ¢ ï¼™æœˆã‚´ãƒ¼ãƒ«: **å¥‘ç´„ã‚’å–ã£ã¦æ¥ã‚Œã‚‹è¡Œå‹•å¤‰å®¹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™º**


---

## å¤§å­¦é™¢ ğŸ“ ï¼™æœˆã‚´ãƒ¼ãƒ«: **ä¿®è«–ã‚’çµ‚ã‚ã‚‰ã›ã‚‹**ã€€
- ä¿®å£«è«–æ–‡åŸ·ç­†ï¼ˆæ¯é€±æœ¨æ›œæ—¥ã«é€²æ—ç¢ºèªï¼‰  
- å¤§å­¦é™¢ã®æˆæ¥­ç”³è«‹ï¼ˆ9/7ï¼‰  
- ã‚³ãƒ­ã‚­ã‚¢ãƒ å‚åŠ ï¼ˆå¯¾é¢ï¼‰  

## Anicca ğŸš€ ï¼™æœˆã‚´ãƒ¼ãƒ«: **åˆ©ç›Šã‚’å‡ºã™**

ãƒ»è‡ªå¾‹è¡Œå‹•ï¼ˆã“ã‚“ãªãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆã‚ã£ãŸã‘ã©ã€œã—ã¾ã›ã‚“ã‹ï¼Ÿâ†’ã‚„ã£ã¦ãŠãã¾ã—ãŸï¼‰  â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ˆã‚Šä»æ•™ã«è¿‘ã¥ã‘ã‚‹ã€‚
- è‡ªå¾‹è¡Œå‹•ï¼ˆã“ã‚“ãªãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆã‚ã£ãŸã‘ã©ã€œã—ã¾ã›ã‚“ã‹ï¼Ÿâ†’ã‚„ã£ã¦ãŠãã¾ã—ãŸï¼‰  â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å¼•ã£å¼µã£ã¦ãã‚Œã‚‹ã€‚
- ä½œæ¥­æ™‚ã®å¾Œå›ã—è§£æ±ºï¼ˆæ—¥ä¸­ã¯ç”»é¢æƒ…å ±ã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼‰â†’å¸¸ã«TODOé€šã‚Šã«ã‚¿ã‚¹ã‚¯ãŒã§ãã¦ã„ã‚‹ã‚ˆã†ã«ã€‚

æ°´æ›œæ—¥
- Aniccaè¨˜äº‹ãƒ»ã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆï¼šAIã®ã‚‚ãŸã‚‰ã™è¡Œå‹•å¤‰å®¹ã®æœªæ¥ã«ã¤ã„ã¦
- Promoå‹•ç”»æ’®å½±â†’Product Hunt/Xãƒªãƒªãƒ¼ã‚¹ã€€â†’åç›Šã‚’å¾—ã‚‹ã€‚
- Aniccaã‚¹ãƒ©ã‚¤ãƒ‰ç™ºè¡¨ï¼ˆYoutubeãƒ»AIä¼šï¼‰ â†’è‡ªåˆ†ã®è€ƒãˆã‚’æ•´ç†ã™ã‚‹ã€‚
- YCãƒ»Solo Founderå¿œå‹Ÿ â†’è€ƒãˆã®æ•´ç†
- Slack mcpï¼ˆãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«â†’ã“ã†è¿”ä¿¡ã—ã¾ã™ã‹ï¼Ÿï¼‰â†’Slackã‹ã‚‰ã®é€£çµ¡ã‚’å…¨ã¦æŠŠæ¡ãƒ»è¿”ä¿¡ã§ãã‚‹ã€‚
- Gmail mcpï¼ˆãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«â†’ã“ã†è¿”ä¿¡ã—ã¾ã™ã‹ï¼Ÿï¼‰â†’ãƒ¡ãƒ¼ãƒ«ã‚’å…¨ã¦æŠŠæ¡ãƒ»è¿”ä¿¡ã§ãã‚‹ã€‚
- exa mcpâ†’æœ€é©ãªãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’Xã‹ã‚‰æ¯æ—¥æ•™ãˆã¦ãã‚Œã‚‹ï¼‹æŠ€è¡“èª¿æŸ»ï¼‹ãƒ€ãƒ³ãƒãƒ‘ãƒ€ã®ä¸€ç¯€ã®èª­ã¿ä¸Šã’
- è¨˜æ†¶æ”¹å–„ã€€â†’ä»Šæ—¥ã®äºˆå®šãã‚‰ã„ã¯ã„ã¤ã§ã‚‚å®Œå…¨ã«æŠŠæ¡ã§ãã¦ã„ã‚‹ã‚ˆã†ã«ã€‚
- ã‚¹ãƒãƒ›å¯¾å¿œï¼ˆèµ·åºŠå£°æ›ã‘ï¼‰  
- å¿ƒç†å­¦ã«ãŠã‘ã‚‹å£°æ›ã‘ã«ã¤ã„ã¦å­¦ã¶
- ãƒ–ãƒ©ã‚¦ã‚¶mcp â†’ã€€ç‘æƒ³ä¼šã®ç”³ã—è¾¼ã¿ã‚‚å…¨éƒ¨ã‚„ã£ã¦ãã‚Œã‚‹ã€‚
- æ±ºæ¸ˆmcpã€€â†’ã€€å¯„ä»˜ã®æœ€å¾Œã¾ã§ã§ãã‚‹ã‚ˆã†ã«ã€‚
- éŸ³å£°ã§ãƒ­ã‚°ã‚¤ãƒ³ãƒ»èª²é‡‘ãƒ»èµ·å‹•åˆ¶å¾¡ï¼ˆkamuiå‚è€ƒï¼‰ â†’ãƒˆãƒ¬ã‚¤ä¸è¦ã«ã€‚
- ãƒ¦ãƒ¼ã‚¶ãƒ¼åä¿®æ­£ã€‚





ãƒ¼ãƒ¼ãƒ¼
- ã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³  ï¼ˆI Am AGIãƒ»è‡ªè²¬ï¼‰-> åƒ•ã ã‘ã‚ˆã†ã«ã€‚
- ç‘æƒ³ã‚¬ã‚¤ãƒ‰â†’ç‘æƒ³ã‚’ã‚„ã‚Šã‚„ã™ãã™ã‚‹ã€‚
- å‹•ç”»ãƒ»ç”»åƒãƒ»è¦ä»¶å®šç¾©ç”Ÿæˆï¼ˆkamui mcpï¼‰  
- éŸ³å£°é§†å‹•é–‹ç™ºï¼ˆai sdkï¼‰ â†’ã‚¹ãƒãƒ›ã‹ã‚‰éŸ³å£°ã ã‘ã§aniccaé–‹ç™º
- ã‚¤ãƒ¬ãƒ–ãƒ³mcpã€€â†’ã€€æ…ˆæ‚²ã®ç‘æƒ³èª­ã¿ä¸Šã’
```

     - push å‰ã®æœ€æ–°ã‚³ãƒŸãƒƒãƒˆ: dcce9580bf8dc5e87e00ef727b57d577c006f6a0
  - ä»Šå›è¿½åŠ ã—ãŸæœ€æ–°ã‚³ãƒŸãƒƒãƒˆ: b5cbfd553eaae5b08d5b968791c9855a9147fec5




> ãƒã‚¤ã‚ºãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³è‡ªå‹•åˆ‡æ›¿ï¼ˆæœ€å°æ§‹æˆï¼‰

  - ç›®çš„: macOS ã§ã€Œå¤–éƒ¨å‡ºåŠ›ãŒæ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‹ã€ã‚’ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã‹ã‚‰å–å¾—ã—ã€near / far ã‚’è‡ªå‹•ã§åˆ‡ã‚Šæ›¿ãˆã‚‹ã€‚ãƒ¦ãƒ¼
  ã‚¶ãƒ¼ã®å…¥åŠ›ã‚‚ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ¤å®šã‚‚ä¸è¦ã€‚
  - å®Ÿè£…å ´æ‰€: ã™ã¹ã¦ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã€‚æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸è¦ã€‚system_profiler ã¨
  systemPreferences.subscribeNotification ã‚’åˆ©ç”¨ã™ã‚‹ã€‚

  å¤‰æ›´ç®‡æ‰€

  1. apps/desktop/src/agents/sessionManager.ts
      - ã‚¯ãƒ©ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« private currentNoiseProfile: 'near_field' | 'far_field' = 'near_field'; ã‚’è¿½åŠ ã€‚
      - setMode('conversation') å†…ã® updateSessionConfig ã‚’ä¸‹è¨˜ã¸å·®ã—æ›¿ãˆã€‚

        this.session?.transport?.updateSessionConfig({
          audio: {
            input: {
              turnDetection: {
                type: 'server_vad',
                threshold: 0.5,
                prefixPaddingMs: 300,
                silenceDurationMs: 500
              },
              noiseReduction: { type: this.currentNoiseProfile }
            }
          }
        });
      - ã‚¯ãƒ©ã‚¹æœ«å°¾ä»˜è¿‘ã¸ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã€‚

        public updateNoiseProfile(next: 'near_field' | 'far_field') {
          if (this.currentNoiseProfile === next) return;
          this.currentNoiseProfile = next;
          if (this.mode === 'conversation' && this.session) {
            this.session.transport.updateSessionConfig({
              audio: { input: { noiseReduction: { type: next } } }
            });
          }
        }
  2. apps/desktop/src/main-voice-simple.ts
      - import ã« ipcMain, systemPreferencesã€promisifyã€execFile ã‚’è¿½åŠ ã€‚
      - sessionManager ç”Ÿæˆç›´å¾Œã« sessionManager.updateNoiseProfile('near_field'); ã‚’ä¸€åº¦å‘¼ã¶ã€‚
      - initializeApp() ã®çµ‚ç›¤ï¼ˆæ—¥å¸¸åˆæœŸåŒ–å¾Œï¼‰ã«ä»¥ä¸‹ã‚’æŒ¿å…¥ã€‚

        const execFileAsync = promisify(execFile);

        async function detectNoiseProfile(): Promise<'near_field' | 'far_field'> {
          if (process.platform !== 'darwin') return 'near_field';
          const { stdout } = await execFileAsync('system_profiler', ['-json', 'SPAudioDataType']);
          const data = JSON.parse(stdout);
          const items = data?.SPAudioDataType?.[0]?._items ?? [];
          const defaultDevice = items.find(
            (item: any) => item.coreaudio_default_audio_output_device === 'spaudio_yes'
          );
          const outputSource = defaultDevice?.coreaudio_output_source || '';
          return outputSource === 'Headphones' ? 'near_field' : 'far_field';
        }

        async function refreshNoiseProfile() {
          const profile = await detectNoiseProfile().catch(() => 'near_field');
          sessionManager?.updateNoiseProfile(profile);
        }

        if (process.platform === 'darwin') {
          systemPreferences.subscribeNotification('com.apple.audio.systemoutputchanged', () => {
            void refreshNoiseProfile();
          });
          void refreshNoiseProfile();
        }
      - ã“ã‚Œã§ macOS ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡ºåŠ›ã‚’ã€Œãƒ˜ãƒƒãƒ‰ãƒ•ã‚©ãƒ³ã€ã¨åˆ¤å®šã—ãŸç¬é–“ nearã€ãã‚Œä»¥å¤–ï¼ˆå†…è”µã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ç­‰ï¼‰ã¯ far
  ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹ã€‚system_profiler ã® coreaudio_output_source ã¯ Apple ãŒå®šç¾©ã—ã¦ãŠã‚Šã€ã€ŒHeadphonesã€ã€ŒInternal
  Speakersã€ãªã©ã®å®šå‹æ–‡å­—åˆ—ãªã®ã§å†—é•·ãªåå‰åˆ¤å®šã¯ä¸è¦ã€‚
  3. ä»–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
      - ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã¯ macOS ä»¥å¤–ã§ã¯ç°¡æ½”ã« near_field å›ºå®šã€‚Windows ç­‰ã¸å±•é–‹ã™ã‚‹å ´åˆã¯åŒé–¢æ•°å†…ã« OS ä¾å­˜å‡¦ç†ã‚’è¿½
  åŠ ã™ã‚‹ï¼ˆæŒ‡ç¤ºãŒã‚ã‚Œã°å¯¾å¿œï¼‰ã€‚

  ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«

  - åˆæœŸå€¤: {"current_step":"1","completed":false}ã€‚
  - ã‚¹ãƒ†ãƒƒãƒ—å®Œäº†ã”ã¨ã« current_step ã‚’ "2-1"â†’"2-2"â†’â€¦"6" ã¨é€²ã‚ã€ç· ã‚ã§ {"current_step":"done","completed":true}ã€‚
  - é€”ä¸­ã§ä¸­æ–­ã—ã¦ã‚‚ read_file ~/.anicca/onboarding_state.json ã«ã‚ˆã‚Šå¿…ãšæœªå®Œã‚¹ãƒ†ãƒƒãƒ—ã ã‘ãŒèµ°ã‚‹ã€‚
  - å„ã‚¹ãƒ†ãƒƒãƒ—ã§æ›–æ˜§è¿”ç­”ãŒã‚ã‚Œã°ã€Œã‚‚ã†ä¸€åº¦ãŠé¡˜ã„ã§ãã¾ã™ã‹ï¼Ÿã€â†’éƒ¨åˆ†ç¢ºèªâ†’è§£æ±ºå¾Œã« edit_file ã§é€²ã‚ã‚‹ã€‚è³ªå•ã®ã‚„ã‚Š
  ç›´ã—ã§ã‚‚ current_step ã¯ç¶­æŒã™ã‚‹ãŸã‚é †ç•ªã¯ä¹±ã‚Œãªã„ã€‚

  ä¿®æ­£ç‰ˆ apps/desktop/prompts/onboarding.txt
  ï¼ˆå‰å›æç¤ºã—ãŸå…¨æ–‡ã®ã¨ãŠã‚Šã€‚å†æ²ã®å¿…è¦ãŒã‚ã‚Œã°æŒ‡ç¤ºã—ã¦ãã ã•ã„ã€‚ï¼‰

  ä»¥ä¸ŠãŒå†—é•·æ€§ã‚’æ’é™¤ã—ãŸæœ€å°æ§‹æˆã®æ‰‹é †ã§ã™ã€‚å¿…è¦ãªåˆ—æŒ™ã¯ Apple ãŒæä¾›ã™ã‚‹ coreaudio_output_source ã®å€¤
  ï¼ˆHeadphones / Internal Speakers ç­‰ï¼‰ã ã‘ã§ã‚ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚„æ©Ÿå™¨åã«ã¯ä¾å­˜ã—ã¾ã›ã‚“ã€‚


Text-to-Speech å‰Šé™¤ã®ãŸã‚ã®å¤‰æ›´ç®‡æ‰€
3. apps/desktop/src/agents/tools.ts

- è¡Œ 295-350 ã® text_to_speech ãƒ„ãƒ¼ãƒ«å®šç¾©ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤ã€‚
- è¡Œ 544-562 ã® allTools é…åˆ—ã‹ã‚‰ text_to_speech ã‚’é™¤å»ã€‚
- å‰Šé™¤å¾Œã€ä½™ã£ãŸé€£ç•ªã‚³ãƒ¡ãƒ³ãƒˆã‚’æ•´ãˆã‚‹ã€‚

4. apps/desktop/src/agents/sessionManager.ts
    - è¡Œ 52-58 ã® ElevenLabs ç”¨ãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’å‰Šé™¤ã—ã€é–¢é€£ã™ã‚‹ import ã‚‚ãªã„ã‹ç¢ºèªã€‚
    - è¡Œ 633-646 ã® /elevenlabs/status ãƒ«ãƒ¼ãƒˆã‚’å‰Šé™¤ã€‚
    - è¡Œ 684-744 ä»˜è¿‘ã® WebSocket å‡¦ç†ã‹ã‚‰ this.isElevenLabsPlaying ã§ã®é€ä¿¡æŠ‘æ­¢ã‚„æ…ˆæ‚²ã‚¿ã‚¹ã‚¯ç‰¹åˆ¥å‡¦ç†ãƒ­ã‚°ã‚’å‰Šé™¤ã€‚
    - è¡Œ 1008-1216 å‘¨è¾ºã® â€œElevenLabs å†ç”Ÿä¸­â€ åˆ†å²ã€ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ç®¡ç†ã€agent_tool_start/agent_tool_end ã§ã®ãƒ–ãƒ­ãƒƒ
ã‚¯ï¼elevenlabs_audio ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆå‡¦ç†ã‚’å…¨ã¦é™¤å»ã€‚
    - agent_tool_end å†…ã® this.broadcast({ type: 'elevenlabs_audio', ... }) ã‚’å‰Šé™¤ã—ã€è·¡ã«æ®‹ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ã‚«ãƒ³ãƒã‚’
èª¿æ•´ã€‚
    - æ®‹ã‚‹ isElevenLabsPlaying å‚ç…§ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã€é–¢é€£ãƒ­ã‚°ã‚‚æ¶ˆã™ã€‚
5. apps/desktop/src/main-voice-simple.ts å‰åŠã®åŸ‹ã‚è¾¼ã¿ãƒ–ãƒ©ã‚¦ã‚¶ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    - è¡Œ 401 ã®ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ ElevenLabs è¨˜è¿°ã‚’å‰Šé™¤ã—ã€ä¸è¦å¤‰æ•°ï¼ˆisSystemPlaying, micPaused ã®ç”¨é€”ãŒ Eleventé™å®šãª
ã‚‰æ•´ç†ï¼‰ã‚’è¦‹ç›´ã™ã€‚
    - è¡Œ 598-700 ã® message.type === 'elevenlabs_audio' ãƒ–ãƒ­ãƒƒã‚¯å…¨ä½“ã¨ fetch('/elevenlabs/status', ...) å‘¼ã³å‡ºã—
ã‚’å‰Šé™¤ã€‚
    - ã“ã‚Œã«ä¼´ã„ã€audio.onerror ãªã© ElevenLabs å›ºæœ‰å‡¦ç†ã‚‚é™¤å»ã—ã€æ®‹ã£ãŸå‡¦ç†ãŒç ´ç¶»ã—ãªã„ã‚ˆã† audioQueue å†ç”Ÿéƒ¨åˆ†
ã ã‘æ®‹ã™ã€‚
6. apps/desktop/src/agents/mainAgent.ts
    - è¡Œ 92, 97, 102 ã® â€œtext_to_speechâ€ é–¢é€£æ–‡ã‚’å‰Šé™¤ã¾ãŸã¯ã€Œè‡ªåˆ†ã®å£°ã®ã¿ã§èª­ã¿ä¸Šã’ã‚‹ã€æ—¨ã«ä¸€æœ¬åŒ–ã€‚
    - è¡Œ 120-128 ã®ã€Œã€éŸ³å£°åˆæˆï¼ˆtext_to_speechï¼‰ã€‘ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¸¸ã”ã¨å‰Šé™¤ã€‚
    - ãƒ„ãƒ¼ãƒ«ãƒªã‚¹ãƒˆã‹ã‚‰ text_to_speech ã‚’å‰Šé™¤ã—ã€ç•ªå·ã‚’è©°ã‚ã¦å†è¡¨è¨˜ã€‚
    - apps/api/package-lock.json å†…ã®è©²å½“ãƒãƒ¼ãƒ‰ã‚’æ‰‹ã§é™¤å¤–ï¼ˆnode_modules/@elevenlabs/elevenlabs-js ãªã©ï¼‰ã€‚
    - apps/api/src/api/mcp/config.js ãŒå‚ç…§ã—ã¦ã„ãŸç’°å¢ƒå¤‰æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚ã‚Œã°æ›´æ–°ã€‚
13. æ®‹å­˜ç¢ºèª
    - rg "elevenlabs" / rg "text_to_speech" ã§å†ãƒã‚§ãƒƒã‚¯ã—ã€ä¸Šè¨˜ä»¥å¤–ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãŒæ®‹ã£ã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã€‚
    - Electron å´ã§ ElevenLabs å†ç”ŸçŠ¶æ…‹é€šçŸ¥ã‚’é€ã£ã¦ã„ãŸç®‡æ‰€ãŒãªããªã‚‹ãŸã‚ã€tray ã‚„ UI ã«å½±éŸ¿ãŒãªã„ã‹ãƒ­ã‚°ã‚³ãƒ¡ãƒ³ãƒˆ
ã‚’å·®ã—æ›¿ãˆã‚‹ã€‚