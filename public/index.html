<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>anicca - „ÅÇ„Å™„Åü„ÅÆË°åÂãï„ÇíË¶ãÂÆà„Çä„ÄÅÂ∞é„ÅèAI</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .header .phase {
            font-size: 1rem;
            opacity: 0.8;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .btn-danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
            color: white;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(156, 39, 176, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ccc;
            transition: all 0.3s ease;
        }

        .status-indicator.active {
            background: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .commentary-section {
            grid-column: 1 / -1;
        }

        .commentary-container {
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
        }

        .commentary-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            border-left: 4px solid #667eea;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .commentary-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .website-name {
            font-weight: 600;
            color: #667eea;
        }

        .action-category {
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .timestamp {
            font-size: 0.8rem;
            color: #666;
        }

        .commentary-text {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .prediction {
            background: rgba(103, 126, 234, 0.1);
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .prediction-title {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 5px;
        }

        .accuracy-indicator {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .accuracy-true {
            background: #4CAF50;
            color: white;
        }

        .accuracy-false {
            background: #f44336;
            color: white;
        }

        .accuracy-null {
            background: #9E9E9E;
            color: white;
        }

        .understanding-section {
            background: rgba(156, 39, 176, 0.1);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #9C27B0;
        }

        .understanding-title {
            font-weight: 600;
            color: #9C27B0;
            margin-bottom: 10px;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #f44336;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        .language-selector {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        .lang-btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ anicca</h1>
            <div class="subtitle" data-i18n="subtitle">Your AI companion that watches, understands, and guides your digital life</div>
            <div class="phase" data-i18n="phase">Phase 1: Live Commentary System (Short-term Memory)</div>
            
            <!-- Ë®ÄË™ûÈÅ∏Êäû -->
            <div class="language-selector">
                <button id="langEn" class="lang-btn active" onclick="setLanguage('en')">üá∫üá∏ English</button>
                <button id="langJa" class="lang-btn" onclick="setLanguage('ja')">üáØüáµ Êó•Êú¨Ë™û</button>
            </div>
        </div>

        <div class="controls">
            <button id="startBtn" class="btn btn-primary" data-i18n="start-btn">üöÄ Start Commentary</button>
            <button id="stopBtn" class="btn btn-danger" disabled data-i18n="stop-btn">‚èπÔ∏è Stop Commentary</button>
            <a href="/daily.html" class="btn btn-info" style="text-decoration: none; display: inline-block;" data-i18n="daily-btn">
                üìÖ View Activity Log
            </a>
        </div>

        <div class="dashboard">
            <div class="card">
                <h3 data-i18n="system-status">üìä System Status</h3>
                <div class="status">
                    <div id="statusIndicator" class="status-indicator"></div>
                    <span id="statusText" data-i18n="status-waiting">Waiting</span>
                </div>
                <div><strong data-i18n="capture-interval">Capture Interval:</strong> <span data-i18n="interval-8sec">~8 seconds</span></div>
                <div><strong data-i18n="ai-model">AI Model:</strong> gemini-2.0-flash-exp</div>
                <div><strong data-i18n="connection">Connection:</strong> <span id="connectionStatus" data-i18n="connecting">Connecting...</span></div>
            </div>

            <div class="card">
                <h3 data-i18n="prediction-accuracy">üéØ Prediction Accuracy</h3>
                <div id="accuracyStats">
                    <div><span data-i18n="total-predictions">Total Predictions:</span> <span id="totalPredictions">0</span></div>
                    <div><span data-i18n="correct-predictions">Correct:</span> <span id="correctPredictions">0</span></div>
                    <div><span data-i18n="accuracy-rate">Accuracy:</span> <span id="accuracyRate">-</span></div>
                </div>
            </div>
        </div>

        <div class="card commentary-section">
            <h3 data-i18n="live-commentary">üí¨ Live Commentary</h3>
            <div id="commentaryContainer" class="commentary-container">
                <div class="welcome-message" style="text-align: center; padding: 40px 20px; color: #666; background: rgba(255,255,255,0.1); border-radius: 10px; border: 2px dashed rgba(255,255,255,0.3);">
                    <div style="font-size: 2rem; margin-bottom: 15px;">ü§ñ</div>
                    <div style="font-size: 1.2rem; font-weight: 600; margin-bottom: 10px; color: #333;" data-i18n="anicca-waiting">anicca is waiting</div>
                    <div data-i18n="start-instruction">Press the start button to activate anicca</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="understanding-section">
                <div class="understanding-title" data-i18n="current-understanding">üß† anicca's Current Understanding</div>
                <div id="currentUnderstanding" data-i18n="learning-patterns">Learning your behavior patterns...</div>
            </div>
        </div>
    </div>

    <script>
        const socket = io();
        let isNarrating = false;
        let totalPredictions = 0;
        let correctPredictions = 0;

        // DOMË¶ÅÁ¥†
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        const connectionStatus = document.getElementById('connectionStatus');
        const commentaryContainer = document.getElementById('commentaryContainer');
        const currentUnderstanding = document.getElementById('currentUnderstanding');
        const totalPredictionsEl = document.getElementById('totalPredictions');
        const correctPredictionsEl = document.getElementById('correctPredictions');
        const accuracyRateEl = document.getElementById('accuracyRate');

        // Socket.IO „Ç§„Éô„É≥„Éà
        // (connect „Ç§„Éô„É≥„Éà„ÅØ‰∏ã„ÅßÁµ±Âêà)

        socket.on('disconnect', () => {
            const texts = translations[currentLanguage];
            connectionStatus.textContent = texts['disconnected'];
            connectionStatus.style.color = '#f44336';
        });

        socket.on('narration-started', (data) => {
            isNarrating = true;
            updateUI();
            const texts = translations[currentLanguage];
            statusText.textContent = texts['status-running'];
            statusIndicator.classList.add('active');
            commentaryContainer.innerHTML = `<div class="loading"><div class="spinner"></div>${texts['analyzing-screen']}</div>`;
        });

        socket.on('narration-stopped', (data) => {
            isNarrating = false;
            updateUI();
            const texts = translations[currentLanguage];
            statusText.textContent = texts['status-stopped'];
            statusIndicator.classList.remove('active');
        });



        socket.on('commentary', (data) => {
            addCommentary(data);
            updateUnderstanding(data.current_understanding);
            updateAccuracy(data.prediction_verification);
        });

        socket.on('error', (data) => {
            showError(data.message, data.error);
        });

        socket.on('understanding-update', (data) => {
            updateUnderstanding(data.understanding);
        });

        // „Éú„Çø„É≥„Ç§„Éô„É≥„Éà
        startBtn.addEventListener('click', () => {
            // ÂÆüÊ≥ÅÈñãÂßãÊôÇ„Å´ÁèæÂú®„ÅÆË®ÄË™ûË®≠ÂÆö„ÇíÈÄÅ‰ø°
            socket.emit('set-language', { language: currentLanguage });
            socket.emit('start-narration');
        });

        stopBtn.addEventListener('click', () => {
            socket.emit('stop-narration');
        });



        // UIÊõ¥Êñ∞Èñ¢Êï∞
        function updateUI() {
            startBtn.disabled = isNarrating;
            stopBtn.disabled = !isNarrating;
        }

        function addCommentary(data) {
            const item = document.createElement('div');
            item.className = 'commentary-item';
            
            const texts = translations[currentLanguage];
            
            const accuracyClass = data.prediction_verification.accuracy === null ? 'accuracy-null' : 
                                 data.prediction_verification.accuracy ? 'accuracy-true' : 'accuracy-false';
            const accuracyText = data.prediction_verification.accuracy === null ? 
                                (currentLanguage === 'en' ? 'First' : 'ÂàùÂõû') : 
                                data.prediction_verification.accuracy ? 
                                (currentLanguage === 'en' ? 'Correct' : 'ÁöÑ‰∏≠') : 
                                (currentLanguage === 'en' ? 'Wrong' : 'Â§ñ„Çå');

            const verificationSection = data.prediction_verification.accuracy !== null ? `
                <div class="verification-section" style="background: rgba(255, 193, 7, 0.1); padding: 10px; border-radius: 8px; margin-bottom: 10px; border-left: 3px solid #FFC107;">
                    <div class="verification-title" style="font-weight: 600; color: #FF8F00; margin-bottom: 5px;">üìä ${currentLanguage === 'en' ? 'Prediction Verification' : '‰∫àÊ∏¨Ê§úË®º'}</div>
                    <div style="margin-bottom: 5px;"><strong>${currentLanguage === 'en' ? 'Previous Prediction:' : 'ÂâçÂõû„ÅÆ‰∫àÊ∏¨:'}</strong> ${data.prediction_verification.previous_prediction}</div>
                    <div style="margin-bottom: 5px;"><strong>${currentLanguage === 'en' ? 'Actual Action:' : 'ÂÆüÈöõ„ÅÆË°åÂãï:'}</strong> ${data.prediction_verification.actual_action}</div>
                    <div style="margin-bottom: 5px;"><strong>${currentLanguage === 'en' ? 'Result:' : 'ÁµêÊûú:'}</strong> <span class="accuracy-indicator ${accuracyClass}">${accuracyText}</span></div>
                    <div><strong>${currentLanguage === 'en' ? 'Analysis:' : 'ÂàÜÊûê:'}</strong> ${data.prediction_verification.reasoning}</div>
                </div>
            ` : '';

            item.innerHTML = `
                <div class="commentary-header">
                    <div>
                        <span class="website-name">${data.websiteName}</span>
                        <span class="action-category">${data.actionCategory}</span>
                        <span class="accuracy-indicator ${accuracyClass}">${accuracyText}</span>
                    </div>
                    <div class="timestamp">${new Date(data.timestamp).toLocaleTimeString()}</div>
                </div>
                <div class="commentary-text">${data.commentary}</div>
                ${verificationSection}
                <div class="prediction">
                    <div class="prediction-title">üîÆ ${currentLanguage === 'en' ? 'Next Prediction' : 'Ê¨°„ÅÆ‰∫àÊ∏¨'}</div>
                    <div><strong>${currentLanguage === 'en' ? 'Action:' : 'Ë°åÂãï:'}</strong> ${data.prediction.action}</div>
                    <div><strong>${currentLanguage === 'en' ? 'Reasoning:' : 'ÁêÜÁî±:'}</strong> ${data.prediction.reasoning}</div>
                </div>
            `;

            if (commentaryContainer.querySelector('.loading')) {
                commentaryContainer.innerHTML = '';
            }

            commentaryContainer.insertBefore(item, commentaryContainer.firstChild);

            // ÊúÄÂ§ß10‰ª∂„Åæ„ÅßË°®Á§∫
            while (commentaryContainer.children.length > 10) {
                commentaryContainer.removeChild(commentaryContainer.lastChild);
            }
        }

        function updateUnderstanding(understanding) {
            currentUnderstanding.textContent = understanding;
        }

        function updateAccuracy(verification) {
            if (verification.accuracy !== null) {
                totalPredictions++;
                if (verification.accuracy) {
                    correctPredictions++;
                }
                updateAccuracyStats();
            }
        }

        function updateAccuracyStats() {
            totalPredictionsEl.textContent = totalPredictions;
            correctPredictionsEl.textContent = correctPredictions;
            
            if (totalPredictions > 0) {
                const rate = ((correctPredictions / totalPredictions) * 100).toFixed(1);
                accuracyRateEl.textContent = `${rate}%`;
                accuracyRateEl.style.color = rate >= 70 ? '#4CAF50' : rate >= 50 ? '#FF9800' : '#f44336';
            } else {
                accuracyRateEl.textContent = '-';
            }
        }

        function showError(message, error) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.innerHTML = `<strong>${message}</strong><br>${error}`;
            
            commentaryContainer.insertBefore(errorDiv, commentaryContainer.firstChild);
            
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.parentNode.removeChild(errorDiv);
                }
            }, 5000);
        }

        // ÂõΩÈöõÂåñÂØæÂøú
        const translations = {
            en: {
                'subtitle': 'Your AI companion that watches, understands, and guides your digital life',
                'phase': 'Phase 1: Live Commentary System (Short-term Memory)',
                'start-btn': 'üöÄ Start Commentary',
                'stop-btn': '‚èπÔ∏è Stop Commentary',

                'daily-btn': 'üìÖ View Activity Log',
                'system-status': 'üìä System Status',
                'status-waiting': 'Waiting',
                'status-running': 'Running',
                'status-stopped': 'Stopped',
                'capture-interval': 'Capture Interval:',
                'interval-8sec': '~8 seconds',
                'ai-model': 'AI Model:',
                'connection': 'Connection:',
                'connecting': 'Connecting...',
                'connected': 'Connected',
                'disconnected': 'Disconnected',
                'analyzing-screen': 'anicca is analyzing the screen...',
                'memory-reset': 'Memory has been reset',
                'prediction-accuracy': 'üéØ Prediction Accuracy',
                'total-predictions': 'Total Predictions:',
                'correct-predictions': 'Correct:',
                'accuracy-rate': 'Accuracy:',
                'live-commentary': 'üí¨ Live Commentary',
                'anicca-waiting': 'anicca is waiting',
                'start-instruction': 'Press the start button to activate anicca',
                'current-understanding': "üß† anicca's Current Understanding",
                'learning-patterns': 'Learning your behavior patterns...'
            },
            ja: {
                'subtitle': '„ÅÇ„Å™„Åü„ÅÆË°åÂãï„ÇíË¶ãÂÆà„Çä„ÄÅÂ∞é„ÅèAI',
                'phase': 'Phase 1: Âü∫Á§éÂÆüÊ≥Å„Ç∑„Çπ„ÉÜ„É† (Áü≠ÊúüË®òÊÜ∂)',
                'start-btn': 'üöÄ ÂÆüÊ≥ÅÈñãÂßã',
                'stop-btn': '‚èπÔ∏è ÂÆüÊ≥ÅÂÅúÊ≠¢',

                'daily-btn': 'üìÖ Ë°åÂãï„É≠„Ç∞„ÇíË¶ã„Çã',
                'system-status': 'üìä „Ç∑„Çπ„ÉÜ„É†Áä∂ÊÖã',
                'status-waiting': 'ÂæÖÊ©ü‰∏≠',
                'status-running': 'ÂÆüÊ≥Å‰∏≠',
                'status-stopped': 'ÂÅúÊ≠¢',
                'capture-interval': '„Ç≠„É£„Éó„ÉÅ„É£ÈñìÈöî:',
                'interval-8sec': 'Á¥Ñ8Áßí',
                'ai-model': 'AI „É¢„Éá„É´:',
                'connection': 'Êé•Á∂öÁä∂ÊÖã:',
                'connecting': 'Êé•Á∂ö‰∏≠...',
                'connected': 'Êé•Á∂öÊ∏à„Åø',
                'disconnected': 'ÂàáÊñ≠',
                'analyzing-screen': 'anicca„ÅåÁîªÈù¢„ÇíÂàÜÊûê‰∏≠...',
                'memory-reset': 'Ë®òÊÜ∂„Åå„É™„Çª„ÉÉ„Éà„Åï„Çå„Åæ„Åó„Åü',
                'prediction-accuracy': 'üéØ ‰∫àÊ∏¨Á≤æÂ∫¶',
                'total-predictions': 'Á∑è‰∫àÊ∏¨Êï∞:',
                'correct-predictions': 'ÁöÑ‰∏≠Êï∞:',
                'accuracy-rate': 'Á≤æÂ∫¶:',
                'live-commentary': 'üí¨ „É™„Ç¢„É´„Çø„Ç§„É†ÂÆüÊ≥Å',
                'anicca-waiting': 'anicca ÂæÖÊ©ü‰∏≠',
                'start-instruction': 'ÂÆüÊ≥ÅÈñãÂßã„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶anicca„ÇíËµ∑Âãï„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                'current-understanding': 'üß† anicca„ÅÆÁèæÂú®„ÅÆÁêÜËß£',
                'learning-patterns': '„É¶„Éº„Ç∂„Éº„ÅÆË°åÂãï„Éë„Çø„Éº„É≥„ÇíÂ≠¶Áøí‰∏≠„Åß„Åô„ÄÇ'
            }
        };

        let currentLanguage = localStorage.getItem('language') || 'en';

        function setLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);
            
            // „Éú„Çø„É≥„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÇíÊõ¥Êñ∞
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang${lang.charAt(0).toUpperCase() + lang.slice(1)}`).classList.add('active');
            
            // „ÉÜ„Ç≠„Çπ„Éà„ÇíÊõ¥Êñ∞
            updateTexts();
            
            // „Éê„ÉÉ„ÇØ„Ç®„É≥„Éâ„Å´Ë®ÄË™ûË®≠ÂÆö„ÇíÈÄÅ‰ø°
            if (socket && socket.connected) {
                socket.emit('set-language', { language: lang });
            }
        }

        function updateTexts() {
            const texts = translations[currentLanguage];
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (texts[key]) {
                    element.textContent = texts[key];
                }
            });
        }

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´Ë®ÄË™û„ÇíË®≠ÂÆö
        document.addEventListener('DOMContentLoaded', function() {
            setLanguage(currentLanguage);
        });

        // SocketÊé•Á∂öÊôÇ„Å´Ë®ÄË™ûË®≠ÂÆö„ÇíÈÄÅ‰ø°
        socket.on('connect', () => {
            const texts = translations[currentLanguage];
            connectionStatus.textContent = texts['connected'];
            connectionStatus.style.color = '#4CAF50';
            
            // Êé•Á∂öÊôÇ„Å´ÁèæÂú®„ÅÆË®ÄË™ûË®≠ÂÆö„ÇíÈÄÅ‰ø°
            socket.emit('set-language', { language: currentLanguage });
        });

        // ÂàùÊúüUIË®≠ÂÆö
        updateUI();
    </script>
</body>
</html> 